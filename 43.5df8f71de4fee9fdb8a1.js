(self.webpackChunkbook_monkey=self.webpackChunkbook_monkey||[]).push([[43],{4043:(o,n,t)=>{"use strict";t.r(n),t.d(n,{BooksModule:()=>_});var e=t(1116),i=t(1441),s=t(8619),c=t(8912);let r=(()=>{class o{constructor(){this.isZoomed=!1}onMouseEnter(){this.isZoomed=!0}onMouseLeave(){this.isZoomed=!1}}return o.\u0275fac=function(n){return new(n||o)},o.\u0275dir=s.lG2({type:o,selectors:[["","bmZoom",""]],hostVars:2,hostBindings:function(o,n){1&o&&s.NdJ("mouseenter",function(){return n.onMouseEnter()})("mouseleave",function(){return n.onMouseLeave()}),2&o&&s.ekj("small",n.isZoomed)}}),o})(),l=(()=>{class o{transform(o){return o?`${o.substr(0,3)}-${o.substr(3)}`:""}}return o.\u0275fac=function(n){return new(n||o)},o.\u0275pipe=s.Yjl({name:"isbn",type:o,pure:!0}),o})();function u(o,n){if(1&o&&s._UZ(0,"img",7),2&o){const o=s.oxw(2);s.Q6J("src",o.book.thumbnails[0].url,s.LSH)}}function a(o,n){if(1&o&&(s.TgZ(0,"div",8),s._uU(1),s.qZA()),2&o){const o=s.oxw(2);s.xp6(1),s.Oqu(o.book.subtitle)}}function g(o,n){1&o&&(s.TgZ(0,"span"),s._uU(1,", "),s.qZA())}function b(o,n){if(1&o&&(s.TgZ(0,"span"),s._uU(1),s.YNc(2,g,2,0,"span",0),s.qZA()),2&o){const o=n.$implicit,t=n.last;s.xp6(1),s.hij(" ",o,""),s.xp6(1),s.Q6J("ngIf",!t)}}function p(o,n){if(1&o&&(s.ynx(0),s.YNc(1,u,1,1,"img",1),s.TgZ(2,"div",2),s.TgZ(3,"div",3),s._uU(4),s.qZA(),s.YNc(5,a,2,1,"div",4),s.TgZ(6,"div",5),s.YNc(7,b,3,2,"span",6),s._UZ(8,"br"),s._uU(9),s.ALo(10,"isbn"),s.qZA(),s.qZA(),s.BQk()),2&o){const o=s.oxw();s.xp6(1),s.Q6J("ngIf",o.book.thumbnails&&o.book.thumbnails[0]&&o.book.thumbnails[0].url),s.xp6(3),s.Oqu(o.book.title),s.xp6(1),s.Q6J("ngIf",o.book.subtitle),s.xp6(2),s.Q6J("ngForOf",o.book.authors),s.xp6(2),s.hij(" ISBN ",s.lcZ(10,5,o.book.isbn)," ")}}let f=(()=>{class o{ngOnInit(){}}return o.\u0275fac=function(n){return new(n||o)},o.\u0275cmp=s.Xpm({type:o,selectors:[["bm-book-list-item"]],inputs:{book:"book"},decls:1,vars:1,consts:[[4,"ngIf"],["class","ui tiny image","bmZoom","",3,"src",4,"ngIf"],[1,"content"],[1,"header"],["class","description",4,"ngIf"],[1,"metadata"],[4,"ngFor","ngForOf"],["bmZoom","",1,"ui","tiny","image",3,"src"],[1,"description"]],template:function(o,n){1&o&&s.YNc(0,p,11,7,"ng-container",0),2&o&&s.Q6J("ngIf",n.book)},directives:[e.O5,e.sg,r],pipes:[l],styles:[""]}),o})();function m(o,n){if(1&o&&s._UZ(0,"bm-book-list-item",5),2&o){const o=n.$implicit;s.Q6J("book",o)("routerLink",o.isbn)}}function d(o,n){1&o&&(s.TgZ(0,"p"),s.SDv(1,6),s.qZA())}function k(o,n){if(1&o&&(s.ynx(0),s.YNc(1,m,1,2,"bm-book-list-item",3),s.YNc(2,d,2,0,"p",4),s.BQk()),2&o){const o=n.ngIf;s.xp6(1),s.Q6J("ngForOf",o),s.xp6(1),s.Q6J("ngIf",!o.length)}}function Z(o,n){1&o&&(s.TgZ(0,"div",7),s.TgZ(1,"div",8),s.SDv(2,9),s.qZA(),s.qZA())}let h=(()=>{class o{constructor(o){this.bs=o,this.books$=this.bs.getAll()}ngOnInit(){}}return o.\u0275fac=function(n){return new(n||o)(s.Y36(c.T))},o.\u0275cmp=s.Xpm({type:o,selectors:[["bm-book-list"]],decls:5,vars:4,consts:function(){let o,n;return o="No books were found in database.",n="Loading data...",[[1,"ui","middle","aligned","selection","divided","list"],[4,"ngIf","ngIfElse"],["loading",""],["class","item",3,"book","routerLink",4,"ngFor","ngForOf"],[4,"ngIf"],[1,"item",3,"book","routerLink"],o,[1,"ui","active","dimmer"],[1,"ui","large","text","loader"],n]},template:function(o,n){if(1&o&&(s.TgZ(0,"div",0),s.YNc(1,k,3,2,"ng-container",1),s.ALo(2,"async"),s.YNc(3,Z,3,0,"ng-template",null,2,s.W1O),s.qZA()),2&o){const o=s.MAs(4);s.xp6(1),s.Q6J("ngIf",s.lcZ(2,2,n.books$))("ngIfElse",o)}},directives:[e.O5,e.sg,f,i.rH],pipes:[e.Ov],styles:[""]}),o})(),v=(()=>{class o{constructor(o,n){this.templateRef=o,this.viewContainerRef=n,this.bmDelay=100}ngOnInit(){setTimeout(()=>{this.viewContainerRef.createEmbeddedView(this.templateRef)},this.bmDelay)}}return o.\u0275fac=function(n){return new(n||o)(s.Y36(s.Rgc),s.Y36(s.s_b))},o.\u0275dir=s.lG2({type:o,selectors:[["","bmDelay",""]],inputs:{bmDelay:"bmDelay"}}),o})();function x(o,n){if(1&o&&(s.TgZ(0,"h3"),s._uU(1),s.qZA()),2&o){const o=s.oxw(2);s.xp6(1),s.Oqu(o.book.subtitle)}}function A(o,n){if(1&o&&(s.ynx(0),s._uU(1),s._UZ(2,"br"),s.BQk()),2&o){const o=n.$implicit;s.xp6(1),s.hij(" ",o,"")}}function y(o,n){1&o&&s._UZ(0,"i",22)}function q(o,n){if(1&o&&(s.ynx(0),s.YNc(1,y,1,0,"i",21),s.BQk()),2&o){const o=n.index;s.xp6(1),s.Q6J("bmDelay",500+200*o)}}function w(o,n){if(1&o&&(s.TgZ(0,"div",5),s.TgZ(1,"h4"),s.SDv(2,20),s.qZA(),s.YNc(3,q,2,1,"ng-container",7),s.qZA()),2&o){const o=s.oxw(2);s.xp6(3),s.Q6J("ngForOf",o.getRating(o.book.rating))}}function T(o,n){1&o&&s._UZ(0,"img",23),2&o&&s.Q6J("src",n.$implicit.url,s.LSH)}const B=function(o){return["../../admin/edit",o]};function I(o,n){if(1&o){const o=s.EpF();s.TgZ(0,"div"),s.TgZ(1,"h1"),s._uU(2),s.qZA(),s.YNc(3,x,2,1,"h3",2),s._UZ(4,"div",3),s.TgZ(5,"div",4),s.TgZ(6,"div",5),s.TgZ(7,"h4"),s.SDv(8,6),s.qZA(),s.YNc(9,A,3,1,"ng-container",7),s.qZA(),s.TgZ(10,"div",5),s.TgZ(11,"h4"),s.SDv(12,8),s.qZA(),s._uU(13),s.ALo(14,"isbn"),s.qZA(),s.TgZ(15,"div",5),s.TgZ(16,"h4"),s.SDv(17,9),s.qZA(),s._uU(18),s.ALo(19,"date"),s.qZA(),s.YNc(20,w,4,1,"div",10),s.qZA(),s.TgZ(21,"h4"),s.SDv(22,11),s.qZA(),s.TgZ(23,"p"),s._uU(24),s.qZA(),s.TgZ(25,"div",12),s.YNc(26,T,1,1,"img",13),s.qZA(),s.TgZ(27,"button",14),s.NdJ("click",function(){return s.CHM(o),s.oxw().removeBook()}),s._UZ(28,"i",15),s.ynx(29),s.SDv(30,16),s.BQk(),s.qZA(),s.TgZ(31,"a",17),s._UZ(32,"i",18),s.ynx(33),s.SDv(34,19),s.BQk(),s.qZA(),s.qZA()}if(2&o){const o=s.oxw();s.xp6(2),s.Oqu(o.book.title),s.xp6(1),s.Q6J("ngIf",o.book.subtitle),s.xp6(6),s.Q6J("ngForOf",o.book.authors),s.xp6(4),s.hij(" ",s.lcZ(14,9,o.book.isbn)," "),s.xp6(5),s.hij(" ",s.xi3(19,11,o.book.published,"longDate")," "),s.xp6(2),s.Q6J("ngIf",o.book.rating),s.xp6(4),s.Oqu(o.book.description),s.xp6(2),s.Q6J("ngForOf",o.book.thumbnails),s.xp6(5),s.Q6J("routerLink",s.VKq(14,B,o.book.isbn))}}function D(o,n){1&o&&s._UZ(0,"div",24)}const O=[{path:"",component:h},{path:":isbn",component:(()=>{class o{constructor(o,n,t){this.bs=o,this.router=n,this.route=t}ngOnInit(){this.bs.getSingle(this.route.snapshot.paramMap.get("isbn")||"").subscribe(o=>this.book=o)}getRating(o){return new Array(o)}removeBook(){this.book&&confirm("Buch wirklich l\xf6schen?")&&this.bs.remove(this.book.isbn).subscribe(o=>this.router.navigate(["../"],{relativeTo:this.route}))}}return o.\u0275fac=function(n){return new(n||o)(s.Y36(c.T),s.Y36(i.F0),s.Y36(i.gz))},o.\u0275cmp=s.Xpm({type:o,selectors:[["bm-book-details"]],decls:3,vars:2,consts:function(){let o,n,t,e,i,s,c;return o="Authors",n="ISBN Number",t="Published Date",e="Description",i="Delete Book",s="Edit Book",c="Rating",[[4,"ngIf","ngIfElse"],["loading",""],[4,"ngIf"],[1,"ui","divider"],[1,"ui","grid"],[1,"four","wide","column"],o,[4,"ngFor","ngForOf"],n,t,["class","four wide column",4,"ngIf"],e,[1,"ui","small","images"],[3,"src",4,"ngFor","ngForOf"],[1,"ui","tiny","red","labeled","icon","button",3,"click"],[1,"remove","icon"],i,[1,"ui","tiny","yellow","labeled","icon","button",3,"routerLink"],[1,"write","icon"],s,c,["class","yellow star icon",4,"bmDelay"],[1,"yellow","star","icon"],[3,"src"],[1,"ui","active","centered","inline","loader"]]},template:function(o,n){if(1&o&&(s.YNc(0,I,35,16,"div",0),s.YNc(1,D,1,0,"ng-template",null,1,s.W1O)),2&o){const o=s.MAs(2);s.Q6J("ngIf",n.book)("ngIfElse",o)}},directives:[e.O5,e.sg,i.yS,v],pipes:[l,e.uU],styles:["p[_ngcontent-%COMP%]{white-space:pre-wrap}"]}),o})()}];let Q=(()=>{class o{}return o.\u0275fac=function(n){return new(n||o)},o.\u0275mod=s.oAB({type:o}),o.\u0275inj=s.cJS({providers:[],imports:[[i.Bz.forChild(O)],i.Bz]}),o})(),_=(()=>{class o{}return o.\u0275fac=function(n){return new(n||o)},o.\u0275mod=s.oAB({type:o}),o.\u0275inj=s.cJS({imports:[[e.ez,Q]]}),o})()}}]);