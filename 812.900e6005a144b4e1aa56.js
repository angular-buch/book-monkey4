(self.webpackChunkbook_monkey=self.webpackChunkbook_monkey||[]).push([[812],{1812:(t,e,r)=>{"use strict";r.r(e),r.d(e,{AppModule:()=>U});var n=r(1116),o=r(8619),i=r(2693),s=r(8981),c=r.n(s),u=r(1441);let a=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=o.Xpm({type:t,selectors:[["bm-root"]],decls:8,vars:0,consts:[[1,"ui","menu"],["routerLink","home","routerLinkActive","active",1,"item"],["routerLink","books","routerLinkActive","active",1,"item"],["routerLink","admin","routerLinkActive","active",1,"item"]],template:function(t,e){1&t&&(o.TgZ(0,"div",0),o.TgZ(1,"a",1),o._uU(2,"Home"),o.qZA(),o.TgZ(3,"a",2),o._uU(4,"B\xfccher"),o.qZA(),o.TgZ(5,"a",3),o._uU(6,"Administration"),o.qZA(),o.qZA(),o._UZ(7,"router-outlet"))},directives:[u.yS,u.Od,u.lC],styles:[""]}),t})();var p=r(3559),h=r(3835),l=r(4094),d=r(8720),k=r(6599),m=r(4689),f=r(8385);const g=function(t){return["..","books",t]};function b(t,e){if(1&t&&(o.TgZ(0,"a",8),o._uU(1),o.TgZ(2,"p",9),o._uU(3),o.qZA(),o.qZA()),2&t){const t=e.$implicit;o.Q6J("routerLink",o.VKq(3,g,t.isbn)),o.xp6(1),o.hij(" ",t.title," "),o.xp6(2),o.Oqu(t.subtitle)}}function Z(t,e){if(1&t&&(o.TgZ(0,"div",6),o.YNc(1,b,4,5,"a",7),o.qZA()),2&t){const t=o.oxw();o.xp6(1),o.Q6J("ngForOf",t.foundBooks)}}let v=(()=>{class t{constructor(t){this.bs=t,this.keyUp$=new p.xQ,this.isLoading=!1,this.foundBooks=[]}ngOnInit(){this.keyUp$.pipe((0,h.h)(t=>t.length>=3),(0,l.b)(500),(0,d.x)(),(0,k.b)(()=>this.isLoading=!0),(0,m.w)(t=>this.bs.getAllSearch(t)),(0,k.b)(()=>this.isLoading=!1)).subscribe(t=>this.foundBooks=t)}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(f.T))},t.\u0275cmp=o.Xpm({type:t,selectors:[["bm-search"]],decls:6,vars:3,consts:[[1,"ui","search"],[1,"ui","icon","input"],["type","text",1,"prompt",3,"keyup"],["input",""],[1,"search","icon"],["class","results transition visible",4,"ngIf"],[1,"results","transition","visible"],["class","result",3,"routerLink",4,"ngFor","ngForOf"],[1,"result",3,"routerLink"],[1,"description"]],template:function(t,e){if(1&t){const t=o.EpF();o.TgZ(0,"div",0),o.TgZ(1,"div",1),o.TgZ(2,"input",2,3),o.NdJ("keyup",function(){o.CHM(t);const r=o.MAs(3);return e.keyUp$.next(r.value)}),o.qZA(),o._UZ(4,"i",4),o.qZA(),o.YNc(5,Z,2,1,"div",5),o.qZA()}2&t&&(o.ekj("loading",e.isLoading),o.xp6(5),o.Q6J("ngIf",e.foundBooks.length))},directives:[n.O5,n.sg,u.yS],styles:[""]}),t})();const A=[{path:"",component:a,children:[{path:"",redirectTo:"home",pathMatch:"full"},{path:"home",component:(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=o.Xpm({type:t,selectors:[["bm-home"]],decls:10,vars:0,consts:[["routerLink","../books",1,"ui","red","button"],[1,"right","arrow","icon"]],template:function(t,e){1&t&&(o.TgZ(0,"h1"),o._uU(1,"Home"),o.qZA(),o.TgZ(2,"p"),o._uU(3,"Das ist der BookMonkey."),o.qZA(),o.TgZ(4,"a",0),o._uU(5," Buchliste ansehen "),o._UZ(6,"i",1),o.qZA(),o.TgZ(7,"h2"),o._uU(8,"Suche"),o.qZA(),o._UZ(9,"bm-search"))},directives:[u.yS,v],styles:[""]}),t})()},{path:"books",loadChildren:()=>r.e(261).then(r.bind(r,1261)).then(t=>t.BooksModule)},{path:"admin",loadChildren:()=>Promise.all([r.e(17),r.e(344)]).then(r.bind(r,3344)).then(t=>t.AdminModule)}]}];let y=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({imports:[[u.Bz.forChild(A)],u.Bz]}),t})(),T=(()=>{class t{constructor(){this.authToken="1234567890"}intercept(t,e){const r=t.clone({setHeaders:{Authorization:`Bearer ${this.authToken}`}});return e.handle(r)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=o.Yz7({token:t,factory:t.\u0275fac}),t})(),U=(()=>{class t{constructor(){(0,n.qS)(c())}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t,bootstrap:[a]}),t.\u0275inj=o.cJS({providers:[{provide:i.TP,useClass:T,multi:!0},{provide:o.soG,useValue:"de"}],imports:[[n.ez,i.JF,y]]}),t})()},8385:(t,e,r)=>{"use strict";r.d(e,{T:()=>p});var n=r(1225),o=r(6998),i=r(9996),s=r(7727);class c{static fromRaw(t){return Object.assign(Object.assign({},t),{published:new Date(t.published)})}}var u=r(8619),a=r(2693);let p=(()=>{class t{constructor(t){this.http=t,this.api="https://api4.angular-buch.com/secure"}getAll(){return this.http.get(`${this.api}/books`).pipe((0,o.X)(3),(0,i.U)(t=>t.map(t=>c.fromRaw(t))),(0,s.K)(this.errorHandler))}getSingle(t){return this.http.get(`${this.api}/book/${t}`).pipe((0,o.X)(3),(0,i.U)(t=>c.fromRaw(t)),(0,s.K)(this.errorHandler))}create(t){return this.http.post(`${this.api}/book`,t,{responseType:"text"}).pipe((0,s.K)(this.errorHandler))}update(t){return this.http.put(`${this.api}/book/${t.isbn}`,t,{responseType:"text"}).pipe((0,s.K)(this.errorHandler))}remove(t){return this.http.delete(`${this.api}/book/${t}`,{responseType:"text"}).pipe((0,s.K)(this.errorHandler))}getAllSearch(t){return this.http.get(`${this.api}/books/search/${t}`).pipe((0,o.X)(3),(0,i.U)(t=>t.map(t=>c.fromRaw(t))),(0,s.K)(this.errorHandler))}check(t){return this.http.get(`${this.api}/book/${t}/check`).pipe((0,s.K)(this.errorHandler))}errorHandler(t){return console.error("Fehler aufgetreten!"),(0,n._)(t)}}return t.\u0275fac=function(e){return new(e||t)(u.LFG(a.eN))},t.\u0275prov=u.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()}}]);