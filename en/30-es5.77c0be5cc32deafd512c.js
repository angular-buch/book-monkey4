function _templateObject15(){var e=_taggedTemplateLiteral([":@@BookFormComponent:book form\u241f04004aff9a85e778b1333c3f35d9660302da01ea\u241f6122154040870620371:Buch bearbeiten"],[":@@BookFormComponent\\:book form\u241f04004aff9a85e778b1333c3f35d9660302da01ea\u241f6122154040870620371:Buch bearbeiten"]);return _templateObject15=function(){return e},e}function _templateObject14(){var e=_taggedTemplateLiteral([":@@BookFormComponent:book form\u241fd77dc58301c7cf16b7a0f8e1c44aa1866992adc1\u241f3273032484262008590:Buch hinzuf\xfcgen"],[":@@BookFormComponent\\:book form\u241fd77dc58301c7cf16b7a0f8e1c44aa1866992adc1\u241f3273032484262008590:Buch hinzuf\xfcgen"]);return _templateObject14=function(){return e},e}function _templateObject13(){var e=_taggedTemplateLiteral([":@@BookFormComponent:book thumbnail placeholder\u241fb7f6cd735e8b660a6ec3d3dfb09de14ab32a10c8\u241f3516494453193947151:Titel"],[":@@BookFormComponent\\:book thumbnail placeholder\u241fb7f6cd735e8b660a6ec3d3dfb09de14ab32a10c8\u241f3516494453193947151:Titel"]);return _templateObject13=function(){return e},e}function _templateObject12(){var e=_taggedTemplateLiteral([":@@BookFormComponent:book url placeholder\u241f801b98c6f02fe3b32f6afa3ee854c99ed83474e6\u241f2375260419993138758:URL"],[":@@BookFormComponent\\:book url placeholder\u241f801b98c6f02fe3b32f6afa3ee854c99ed83474e6\u241f2375260419993138758:URL"]);return _templateObject12=function(){return e},e}function _templateObject11(){var e=_taggedTemplateLiteral([":@@BookFormComponent:author placeholder\u241fe3409e9c1c468b07de71d123a086ccc6752962f1\u241f5102041847876891222:Autor"],[":@@BookFormComponent\\:author placeholder\u241fe3409e9c1c468b07de71d123a086ccc6752962f1\u241f5102041847876891222:Autor"]);return _templateObject11=function(){return e},e}function _templateObject10(){var e=_taggedTemplateLiteral([":@@BookFormComponent:book form save\u241f7d23b0858bcdd8e1d9d7934e1234cb038617c4db\u241f8292624393390788959: Speichern "],[":@@BookFormComponent\\:book form save\u241f7d23b0858bcdd8e1d9d7934e1234cb038617c4db\u241f8292624393390788959: Speichern "]);return _templateObject10=function(){return e},e}function _templateObject9(){var e=_taggedTemplateLiteral([":@@BookFormComponent:add thumbnail\u241f06f4d3d585cb9d4a0ffeb7cbbab457294206ce84\u241f1905806150319254016: + Bild "],[":@@BookFormComponent\\:add thumbnail\u241f06f4d3d585cb9d4a0ffeb7cbbab457294206ce84\u241f1905806150319254016: + Bild "]);return _templateObject9=function(){return e},e}function _templateObject8(){var e=_taggedTemplateLiteral([":@@BookFormComponent:book thumbnails\u241fe7abc2e971ba9ac12751153ba7973e5cf0fea20b\u241f9045290048674217310:Bilder"],[":@@BookFormComponent\\:book thumbnails\u241fe7abc2e971ba9ac12751153ba7973e5cf0fea20b\u241f9045290048674217310:Bilder"]);return _templateObject8=function(){return e},e}function _templateObject7(){var e=_taggedTemplateLiteral([":@@BookFormComponent:book description\u241ff09ad66c1ebf16217ba1a1072be7a98de2d95eac\u241f3282235563480269560:Beschreibung"],[":@@BookFormComponent\\:book description\u241ff09ad66c1ebf16217ba1a1072be7a98de2d95eac\u241f3282235563480269560:Beschreibung"]);return _templateObject7=function(){return e},e}function _templateObject6(){var e=_taggedTemplateLiteral([":@@BookFormComponent:add author\u241ff4a0cc44be8e3c0d0acf9fe85fb29d5886aaee77\u241f2147622957633097048: + Autor "],[":@@BookFormComponent\\:add author\u241ff4a0cc44be8e3c0d0acf9fe85fb29d5886aaee77\u241f2147622957633097048: + Autor "]);return _templateObject6=function(){return e},e}function _templateObject5(){var e=_taggedTemplateLiteral([":@@BookFormComponent:book authors\u241fd5ce279a1c4682414a0e0a3d283580449f79d410\u241f3654953117544016353:Autoren"],[":@@BookFormComponent\\:book authors\u241fd5ce279a1c4682414a0e0a3d283580449f79d410\u241f3654953117544016353:Autoren"]);return _templateObject5=function(){return e},e}function _templateObject4(){var e=_taggedTemplateLiteral([":@@BookFormComponent:book published date\u241f5a2a5a853e64c7f94b6af03aecc486450f1ae068\u241f3845025460046577000:Erscheinungsdatum"],[":@@BookFormComponent\\:book published date\u241f5a2a5a853e64c7f94b6af03aecc486450f1ae068\u241f3845025460046577000:Erscheinungsdatum"]);return _templateObject4=function(){return e},e}function _templateObject3(){var e=_taggedTemplateLiteral([":@@BookFormComponent:book isbn\u241fd579249e5fe296d2eb3d02d79cc19ebbca88ec1e\u241f8860567190320038063:ISBN"],[":@@BookFormComponent\\:book isbn\u241fd579249e5fe296d2eb3d02d79cc19ebbca88ec1e\u241f8860567190320038063:ISBN"]);return _templateObject3=function(){return e},e}function _templateObject2(){var e=_taggedTemplateLiteral([":@@BookFormComponent:book subtitle\u241f503b951dc9cc0a3ba44b73393cf8fb0fd03ca7b0\u241f1763940721409433016:Untertitel"],[":@@BookFormComponent\\:book subtitle\u241f503b951dc9cc0a3ba44b73393cf8fb0fd03ca7b0\u241f1763940721409433016:Untertitel"]);return _templateObject2=function(){return e},e}function _templateObject(){var e=_taggedTemplateLiteral([":@@BookFormComponent:book title\u241fb4c33d19f19cfa346f800ce0817ab11cf3c6e8dc\u241f3612065257905492324:Buchtitel"],[":@@BookFormComponent\\:book title\u241fb4c33d19f19cfa346f800ce0817ab11cf3c6e8dc\u241f3612065257905492324:Buchtitel"]);return _templateObject=function(){return e},e}function _taggedTemplateLiteral(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _createClass(e,t,o){return t&&_defineProperties(e.prototype,t),o&&_defineProperties(e,o),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[30],{Exa6:function(e,t,o){"use strict";o.r(t),o.d(t,"AdminModule",(function(){return U}));var n,r=o("ofXK"),a=o("3Pt+"),i=o("6XRw"),c=o("tyNb"),b=o("fXoL"),l=o("9O1O"),u=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"isbnFormat",value:function(e){if(!e.value)return null;var t=e.value.replace(/-/g,"");return/(^\d{10}$)|(^\d{13}$)/.test(t)?null:{isbnFormat:{valid:!1}}}},{key:"atLeastOneAuthor",value:function(e){return e.controls.some((function(e){return e.value}))?null:{atLeastOneAuthor:{valid:!1}}}}]),e}(),s=o("LRne"),m=o("lJxs"),f=o("JIr8"),d=((n=function(){function e(t){_classCallCheck(this,e),this.bs=t}return _createClass(e,[{key:"validate",value:function(e){return this.bs.check(e.value).pipe(Object(m.a)((function(e){return!1===e?null:{isbnExists:{valid:!1}}})),Object(f.a)((function(){return Object(s.a)(null)})))}}]),e}()).\u0275fac=function(e){return new(e||n)(b.Ub(l.a))},n.\u0275prov=b.Fb({token:n,factory:n.\u0275fac,providedIn:"root"}),n);function p(e,t){if(1&e&&(b.Ob(0,"div",1),b.pc(1),b.Nb()),2&e){var o=t.$implicit;b.zb(1),b.rc(" ",o,"\n")}}var h,k,g,O,v,_,C,F,j,B,y,N=((h=function(){function e(){_classCallCheck(this,e),this.allMessages={title:{required:"Ein Buchtitel muss angegeben werden."},isbn:{required:"Es muss eine ISBN angegeben werden.",isbnFormat:"Die ISBN muss aus 10 oder 13 Zeichen bestehen.",isbnExists:"Die ISBN existiert bereits."},published:{required:"Es muss ein Erscheinungsdatum angegeben werden."},authors:{atLeastOneAuthor:"Es muss ein Autor angegeben werden."}}}return _createClass(e,[{key:"ngOnInit",value:function(){}},{key:"errorsForControl",value:function(){var e=this.allMessages[this.controlName];return this.control&&this.control.errors&&e&&this.control.dirty?Object.keys(this.control.errors).map((function(t){return e[t]})):null}}]),e}()).\u0275fac=function(e){return new(e||h)},h.\u0275cmp=b.Db({type:h,selectors:[["bm-form-messages"]],inputs:{control:"control",controlName:"controlName"},decls:1,vars:1,consts:[["class","ui negative message",4,"ngFor","ngForOf"],[1,"ui","negative","message"]],template:function(e,t){1&e&&b.nc(0,p,2,1,"div",0),2&e&&b.ec("ngForOf",t.errorsForControl())},directives:[r.j],styles:[""]}),h);k="Book Title",g="Subtitle",O="ISBN Number",v="Published Date",_="Authors",C="+ Author",F="Description",j="Thumbnails",B="+ Thumbnail",y="Save";var T=["placeholder","Author"];function z(e,t){if(1&e&&(b.Ob(0,"div",16),b.Ob(1,"input",17),b.Tb(2,T),b.Nb(),b.Nb()),2&e){var o=t.index;b.zb(1),b.ec("formControlName",o)}}var w=["placeholder","http://example_Url"],A=["placeholder","Book Title"];function L(e,t){1&e&&(b.Ob(0,"div",18),b.Ob(1,"div",19),b.Ob(2,"input",20),b.Tb(3,w),b.Nb(),b.Nb(),b.Ob(4,"div",21),b.Ob(5,"input",22),b.Tb(6,A),b.Nb(),b.Nb(),b.Nb()),2&e&&b.ec("formGroupName",t.index)}var S,$,I=((S=function(){function e(t,o){_classCallCheck(this,e),this.fb=t,this.bookExistsValidator=o,this.editing=!1,this.submitBook=new b.n}return _createClass(e,[{key:"ngOnInit",value:function(){this.initForm()}},{key:"ngOnChanges",value:function(){this.initForm(),this.setFormValues(this.book)}},{key:"setFormValues",value:function(e){this.bookForm.patchValue(e),this.bookForm.setControl("authors",this.buildAuthorsArray(e.authors)),this.bookForm.setControl("thumbnails",this.buildThumbnailsArray(e.thumbnails))}},{key:"initForm",value:function(){this.bookForm||(this.bookForm=this.fb.group({title:["",a.q.required],subtitle:[""],isbn:[{value:"",disabled:this.editing},[a.q.required,u.isbnFormat],this.editing?null:[this.bookExistsValidator]],description:[""],authors:this.buildAuthorsArray([""]),thumbnails:this.buildThumbnailsArray([{title:"",url:""}]),published:[]}))}},{key:"buildAuthorsArray",value:function(e){return this.fb.array(e,u.atLeastOneAuthor)}},{key:"buildThumbnailsArray",value:function(e){var t=this;return this.fb.array(e.map((function(e){return t.fb.group(e)})))}},{key:"addAuthorControl",value:function(){this.authors.push(this.fb.control(""))}},{key:"addThumbnailControl",value:function(){this.thumbnails.push(this.fb.group({url:"",title:""}))}},{key:"submitForm",value:function(){var e=this.bookForm.value,t=e.authors.filter((function(e){return e})),o=e.thumbnails.filter((function(e){return e.url})),n=this.editing?this.book.isbn:e.isbn,r=Object.assign(Object.assign({},e),{isbn:n,authors:t,thumbnails:o});this.submitBook.emit(r),this.bookForm.reset()}},{key:"authors",get:function(){return this.bookForm.get("authors")}},{key:"thumbnails",get:function(){return this.bookForm.get("thumbnails")}}]),e}()).\u0275fac=function(e){return new(e||S)(b.Jb(a.c),b.Jb(d))},S.\u0275cmp=b.Db({type:S,selectors:[["bm-book-form"]],inputs:{book:"book",editing:"editing"},outputs:{submitBook:"submitBook"},features:[b.xb],decls:34,vars:8,consts:[[1,"ui","form",3,"formGroup","ngSubmit"],["formControlName","title"],["controlName","title",3,"control"],["formControlName","subtitle"],["formControlName","isbn"],["controlName","isbn",3,"control"],["type","date","useValueAsDate","","formControlName","published"],["controlName","published",3,"control"],["type","button",1,"ui","mini","button",3,"click"],["formArrayName","authors",1,"fields"],["class","sixteen wide field",4,"ngFor","ngForOf"],["controlName","authors",3,"control"],["formControlName","description"],["formArrayName","thumbnails"],["class","fields",3,"formGroupName",4,"ngFor","ngForOf"],["type","submit",1,"ui","button",3,"disabled"],[1,"sixteen","wide","field"],[3,"formControlName",6,"placeholder"],[1,"fields",3,"formGroupName"],[1,"nine","wide","field"],["formControlName","url",6,"placeholder"],[1,"seven","wide","field"],["formControlName","title",6,"placeholder"]],template:function(e,t){1&e&&(b.Ob(0,"form",0),b.Yb("ngSubmit",(function(){return t.submitForm()})),b.Ob(1,"label"),b.Sb(2,k),b.Nb(),b.Kb(3,"input",1),b.Kb(4,"bm-form-messages",2),b.Ob(5,"label"),b.Sb(6,g),b.Nb(),b.Kb(7,"input",3),b.Ob(8,"label"),b.Sb(9,O),b.Nb(),b.Kb(10,"input",4),b.Kb(11,"bm-form-messages",5),b.Ob(12,"label"),b.Sb(13,v),b.Nb(),b.Kb(14,"input",6),b.Kb(15,"bm-form-messages",7),b.Ob(16,"label"),b.Sb(17,_),b.Nb(),b.Ob(18,"button",8),b.Yb("click",(function(){return t.addAuthorControl()})),b.Sb(19,C),b.Nb(),b.Ob(20,"div",9),b.nc(21,z,3,1,"div",10),b.Nb(),b.Kb(22,"bm-form-messages",11),b.Ob(23,"label"),b.Sb(24,F),b.Nb(),b.Kb(25,"textarea",12),b.Ob(26,"label"),b.Sb(27,j),b.Nb(),b.Ob(28,"button",8),b.Yb("click",(function(){return t.addThumbnailControl()})),b.Sb(29,B),b.Nb(),b.Ob(30,"div",13),b.nc(31,L,7,1,"div",14),b.Nb(),b.Ob(32,"button",15),b.Sb(33,y),b.Nb(),b.Nb()),2&e&&(b.ec("formGroup",t.bookForm),b.zb(4),b.ec("control",t.bookForm.get("title")),b.zb(7),b.ec("control",t.bookForm.get("isbn")),b.zb(4),b.ec("control",t.bookForm.get("published")),b.zb(6),b.ec("ngForOf",t.authors.controls),b.zb(1),b.ec("control",t.bookForm.get("authors")),b.zb(9),b.ec("ngForOf",t.thumbnails.controls),b.zb(1),b.ec("disabled",t.bookForm.invalid))},directives:[a.r,a.l,a.e,a.a,a.k,a.d,N,i.a,a.b,r.j,a.f],styles:[""]}),S);$="Book Form";var x,E,J=((x=function(){function e(t,o,n){_classCallCheck(this,e),this.bs=t,this.route=o,this.router=n}return _createClass(e,[{key:"ngOnInit",value:function(){}},{key:"createBook",value:function(e){var t=this;this.bs.create(e).subscribe((function(){t.router.navigate(["../..","books"],{relativeTo:t.route})}))}}]),e}()).\u0275fac=function(e){return new(e||x)(b.Jb(l.a),b.Jb(c.a),b.Jb(c.d))},x.\u0275cmp=b.Db({type:x,selectors:[["bm-create-book"]],decls:3,vars:0,consts:[[3,"submitBook"]],template:function(e,t){1&e&&(b.Ob(0,"h1"),b.Sb(1,$),b.Nb(),b.Ob(2,"bm-book-form",0),b.Yb("submitBook",(function(e){return t.createBook(e)})),b.Nb())},directives:[I],styles:[""]}),x),K=o("eIep");function q(e,t){if(1&e){var o=b.Pb();b.Ob(0,"bm-book-form",1),b.Yb("submitBook",(function(e){return b.jc(o),b.ac().updateBook(e)})),b.Nb()}if(2&e){var n=b.ac();b.ec("book",n.book)("editing",!0)}}E="Book Form";var D,G,P,V=[{path:"",redirectTo:"create",pathMatch:"full"},{path:"create",component:J},{path:"edit/:isbn",component:(D=function(){function e(t,o,n){_classCallCheck(this,e),this.bs=t,this.route=o,this.router=n}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.route.paramMap.pipe(Object(m.a)((function(e){return e.get("isbn")})),Object(K.a)((function(t){return e.bs.getSingle(t)}))).subscribe((function(t){return e.book=t}))}},{key:"updateBook",value:function(e){var t=this;this.bs.update(e).subscribe((function(){t.router.navigate(["../../..","books",e.isbn],{relativeTo:t.route})}))}}]),e}(),D.\u0275fac=function(e){return new(e||D)(b.Jb(l.a),b.Jb(c.a),b.Jb(c.d))},D.\u0275cmp=b.Db({type:D,selectors:[["bm-edit-book"]],decls:3,vars:1,consts:[[3,"book","editing","submitBook",4,"ngIf"],[3,"book","editing","submitBook"]],template:function(e,t){1&e&&(b.Ob(0,"h1"),b.Sb(1,E),b.Nb(),b.nc(2,q,1,2,"bm-book-form",0)),2&e&&(b.zb(2),b.ec("ngIf",t.book))},directives:[r.k,I],styles:[""]}),D)}],M=((P=function e(){_classCallCheck(this,e)}).\u0275mod=b.Hb({type:P}),P.\u0275inj=b.Gb({factory:function(e){return new(e||P)},providers:[],imports:[[c.h.forChild(V)],c.h]}),P),U=((G=function e(){_classCallCheck(this,e)}).\u0275mod=b.Hb({type:G}),G.\u0275inj=b.Gb({factory:function(e){return new(e||G)},imports:[[r.c,M,a.o,i.b]]}),G)}}]);