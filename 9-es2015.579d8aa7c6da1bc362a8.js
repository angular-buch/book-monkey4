(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{a3UO:function(t,e,r){"use strict";r.d(e,"a",(function(){return b}));var n=r("z6cu"),o=r("un/a"),i=r("lJxs"),s=r("JIr8");class c{static fromRaw(t){return Object.assign(Object.assign({},t),{published:new Date(t.published)})}}var a=r("fXoL"),u=r("tk/3");let b=(()=>{class t{constructor(t){this.http=t,this.api="https://api4.angular-buch.com/secure"}getAll(){return this.http.get(this.api+"/books").pipe(Object(o.a)(3),Object(i.a)(t=>t.map(t=>c.fromRaw(t))),Object(s.a)(this.errorHandler))}getSingle(t){return this.http.get(`${this.api}/book/${t}`).pipe(Object(o.a)(3),Object(i.a)(t=>c.fromRaw(t)),Object(s.a)(this.errorHandler))}create(t){return this.http.post(this.api+"/book",t,{responseType:"text"}).pipe(Object(s.a)(this.errorHandler))}update(t){return this.http.put(`${this.api}/book/${t.isbn}`,t,{responseType:"text"}).pipe(Object(s.a)(this.errorHandler))}remove(t){return this.http.delete(`${this.api}/book/${t}`,{responseType:"text"}).pipe(Object(s.a)(this.errorHandler))}getAllSearch(t){return this.http.get(`${this.api}/books/search/${t}`).pipe(Object(o.a)(3),Object(i.a)(t=>t.map(t=>c.fromRaw(t))),Object(s.a)(this.errorHandler))}check(t){return this.http.get(`${this.api}/book/${t}/check`).pipe(Object(s.a)(this.errorHandler))}errorHandler(t){return console.error("Fehler aufgetreten!"),Object(n.a)(t)}}return t.\u0275fac=function(e){return new(e||t)(a.Sb(u.b))},t.\u0275prov=a.Db({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},xdBj:function(t,e,r){"use strict";r.r(e),r.d(e,"AppModule",(function(){return w}));var n=r("ofXK"),o=r("fXoL"),i=r("tk/3"),s=r("VLs4"),c=r.n(s),a=r("tyNb");let u=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=o.Bb({type:t,selectors:[["bm-root"]],decls:8,vars:0,consts:[[1,"ui","menu"],["routerLink","home","routerLinkActive","active",1,"item"],["routerLink","books","routerLinkActive","active",1,"item"],["routerLink","admin","routerLinkActive","active",1,"item"]],template:function(t,e){1&t&&(o.Mb(0,"div",0),o.Mb(1,"a",1),o.mc(2,"Home"),o.Lb(),o.Mb(3,"a",2),o.mc(4,"B\xfccher"),o.Lb(),o.Mb(5,"a",3),o.mc(6,"Administration"),o.Lb(),o.Lb(),o.Ib(7,"router-outlet"))},directives:[a.g,a.f,a.i],styles:[""]}),t})();var b=r("XNiG"),p=r("pLZG"),h=r("Kj3r"),l=r("/uUt"),d=r("vkgz"),m=r("eIep"),f=r("a3UO");const k=function(t){return["..","books",t]};function g(t,e){if(1&t&&(o.Mb(0,"a",7),o.mc(1),o.Mb(2,"p",8),o.mc(3),o.Lb(),o.Lb()),2&t){const t=e.$implicit;o.bc("routerLink",o.dc(3,k,t.isbn)),o.xb(1),o.oc(" ",t.title," "),o.xb(2),o.nc(t.subtitle)}}function v(t,e){if(1&t&&(o.Mb(0,"div",5),o.kc(1,g,4,5,"a",6),o.Lb()),2&t){const t=o.Xb();o.xb(1),o.bc("ngForOf",t.foundBooks)}}let L=(()=>{class t{constructor(t){this.bs=t,this.keyUp$=new b.a,this.isLoading=!1,this.foundBooks=[]}ngOnInit(){this.keyUp$.pipe(Object(p.a)(t=>t.length>=3),Object(h.a)(500),Object(l.a)(),Object(d.a)(()=>this.isLoading=!0),Object(m.a)(t=>this.bs.getAllSearch(t)),Object(d.a)(()=>this.isLoading=!1)).subscribe(t=>this.foundBooks=t)}}return t.\u0275fac=function(e){return new(e||t)(o.Hb(f.a))},t.\u0275cmp=o.Bb({type:t,selectors:[["bm-search"]],decls:5,vars:3,consts:[[1,"ui","search"],[1,"ui","icon","input"],["type","text",1,"prompt",3,"keyup"],[1,"search","icon"],["class","results transition visible",4,"ngIf"],[1,"results","transition","visible"],["class","result",3,"routerLink",4,"ngFor","ngForOf"],[1,"result",3,"routerLink"],[1,"description"]],template:function(t,e){1&t&&(o.Mb(0,"div",0),o.Mb(1,"div",1),o.Mb(2,"input",2),o.Vb("keyup",(function(t){return e.keyUp$.next(t.target.value)})),o.Lb(),o.Ib(3,"i",3),o.Lb(),o.kc(4,v,2,1,"div",4),o.Lb()),2&t&&(o.zb("loading",e.isLoading),o.xb(4),o.bc("ngIf",e.foundBooks.length))},directives:[n.k,n.j,a.g],styles:[""]}),t})();const O=[{path:"",component:u,children:[{path:"",redirectTo:"home",pathMatch:"full"},{path:"home",component:(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=o.Bb({type:t,selectors:[["bm-home"]],decls:10,vars:0,consts:[["routerLink","../books",1,"ui","red","button"],[1,"right","arrow","icon"]],template:function(t,e){1&t&&(o.Mb(0,"h1"),o.mc(1,"Home"),o.Lb(),o.Mb(2,"p"),o.mc(3,"Das ist der BookMonkey."),o.Lb(),o.Mb(4,"a",0),o.mc(5," Buchliste ansehen "),o.Ib(6,"i",1),o.Lb(),o.Mb(7,"h2"),o.mc(8,"Suche"),o.Lb(),o.Ib(9,"bm-search"))},directives:[a.g,L],styles:[""]}),t})()},{path:"books",loadChildren:()=>r.e(28).then(r.bind(null,"+6y3")).then(t=>t.BooksModule)},{path:"admin",loadChildren:()=>Promise.all([r.e(1),r.e(27)]).then(r.bind(null,"el1n")).then(t=>t.AdminModule)}]}];let j=(()=>{class t{}return t.\u0275mod=o.Fb({type:t}),t.\u0275inj=o.Eb({factory:function(e){return new(e||t)},imports:[[a.h.forChild(O)],a.h]}),t})(),y=(()=>{class t{constructor(){this.authToken="1234567890"}intercept(t,e){const r=t.clone({setHeaders:{Authorization:"Bearer "+this.authToken}});return e.handle(r)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=o.Db({token:t,factory:t.\u0275fac}),t})(),w=(()=>{class t{constructor(){Object(n.o)(c.a)}}return t.\u0275mod=o.Fb({type:t,bootstrap:[u]}),t.\u0275inj=o.Eb({factory:function(e){return new(e||t)},providers:[{provide:i.a,useClass:y,multi:!0},{provide:o.u,useValue:"de"}],imports:[[n.c,i.c,j]]}),t})()}}]);