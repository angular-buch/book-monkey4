"use strict";(self.webpackChunkbook_monkey=self.webpackChunkbook_monkey||[]).push([[730],{5730:(T,g,n)=>{n.r(g),n.d(g,{AppModule:()=>B});var l=n(6019),t=n(865),h=n(4522),p=n(6234),s=n(828);let m=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275cmp=t.Xpm({type:o,selectors:[["bm-root"]],decls:8,vars:0,consts:[[1,"ui","menu"],["routerLink","home","routerLinkActive","active",1,"item"],["routerLink","books","routerLinkActive","active",1,"item"],["routerLink","admin","routerLinkActive","active",1,"item"]],template:function(e,c){1&e&&(t.TgZ(0,"div",0),t.TgZ(1,"a",1),t._uU(2,"Home"),t.qZA(),t.TgZ(3,"a",2),t._uU(4,"B\xfccher"),t.qZA(),t.TgZ(5,"a",3),t._uU(6,"Administration"),t.qZA(),t.qZA(),t._UZ(7,"router-outlet"))},directives:[s.yS,s.Od,s.lC],styles:[""]}),o})();var f=n(8095),v=n(8735),u=n(3181),d=n(5389),r=n(5722),a=n(9204),A=n(5367);const Z=function(o){return["..","books",o]};function k(o,i){if(1&o&&(t.TgZ(0,"a",8),t._uU(1),t.TgZ(2,"p",9),t._uU(3),t.qZA(),t.qZA()),2&o){const e=i.$implicit;t.Q6J("routerLink",t.VKq(3,Z,e.isbn)),t.xp6(1),t.hij(" ",e.title," "),t.xp6(2),t.Oqu(e.subtitle)}}function C(o,i){if(1&o&&(t.TgZ(0,"div",6),t.YNc(1,k,4,5,"a",7),t.qZA()),2&o){const e=t.oxw();t.xp6(1),t.Q6J("ngForOf",e.foundBooks)}}let M=(()=>{class o{constructor(e){this.bs=e,this.keyUp$=new f.xQ,this.isLoading=!1,this.foundBooks=[]}ngOnInit(){this.keyUp$.pipe((0,v.h)(e=>e.length>=3),(0,u.b)(500),(0,d.x)(),(0,r.b)(()=>this.isLoading=!0),(0,a.w)(e=>this.bs.getAllSearch(e)),(0,r.b)(()=>this.isLoading=!1)).subscribe(e=>this.foundBooks=e)}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(A.T))},o.\u0275cmp=t.Xpm({type:o,selectors:[["bm-search"]],decls:6,vars:3,consts:[[1,"ui","search"],[1,"ui","icon","input"],["type","text",1,"prompt",3,"keyup"],["input",""],[1,"search","icon"],["class","results transition visible",4,"ngIf"],[1,"results","transition","visible"],["class","result",3,"routerLink",4,"ngFor","ngForOf"],[1,"result",3,"routerLink"],[1,"description"]],template:function(e,c){if(1&e){const y=t.EpF();t.TgZ(0,"div",0),t.TgZ(1,"div",1),t.TgZ(2,"input",2,3),t.NdJ("keyup",function(){t.CHM(y);const F=t.MAs(3);return c.keyUp$.next(F.value)}),t.qZA(),t._UZ(4,"i",4),t.qZA(),t.YNc(5,C,2,1,"div",5),t.qZA()}2&e&&(t.ekj("loading",c.isLoading),t.xp6(5),t.Q6J("ngIf",c.foundBooks.length))},directives:[l.O5,l.sg,s.yS],styles:[""]}),o})();const U=[{path:"",component:m,children:[{path:"",redirectTo:"home",pathMatch:"full"},{path:"home",component:(()=>{class o{constructor(){}ngOnInit(){}}return o.\u0275fac=function(e){return new(e||o)},o.\u0275cmp=t.Xpm({type:o,selectors:[["bm-home"]],decls:10,vars:0,consts:[["routerLink","../books",1,"ui","red","button"],[1,"right","arrow","icon"]],template:function(e,c){1&e&&(t.TgZ(0,"h1"),t._uU(1,"Home"),t.qZA(),t.TgZ(2,"p"),t._uU(3,"Das ist der BookMonkey."),t.qZA(),t.TgZ(4,"a",0),t._uU(5," Buchliste ansehen "),t._UZ(6,"i",1),t.qZA(),t.TgZ(7,"h2"),t._uU(8,"Suche"),t.qZA(),t._UZ(9,"bm-search"))},directives:[s.yS,M],styles:[""]}),o})()},{path:"books",loadChildren:()=>n.e(256).then(n.bind(n,9256)).then(o=>o.BooksModule)},{path:"admin",loadChildren:()=>Promise.all([n.e(956),n.e(714)]).then(n.bind(n,6714)).then(o=>o.AdminModule)}]}];let R=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[[s.Bz.forChild(U)],s.Bz]}),o})(),b=(()=>{class o{constructor(){this.authToken="1234567890"}intercept(e,c){const y=e.clone({setHeaders:{Authorization:`Bearer ${this.authToken}`}});return c.handle(y)}}return o.\u0275fac=function(e){return new(e||o)},o.\u0275prov=t.Yz7({token:o,factory:o.\u0275fac}),o})(),B=(()=>{class o{constructor(){(0,l.qS)(p.Z)}}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o,bootstrap:[m]}),o.\u0275inj=t.cJS({providers:[{provide:h.TP,useClass:b,multi:!0},{provide:t.soG,useValue:"de"}],imports:[[l.ez,h.JF,R]]}),o})()},5367:(T,g,n)=>{n.d(g,{T:()=>v});var l=n(540),t=n(921),h=n(8053),p=n(2047);class s{static fromRaw(d){return Object.assign(Object.assign({},d),{published:new Date(d.published)})}}var m=n(865),f=n(4522);let v=(()=>{class u{constructor(r){this.http=r,this.api="https://api4.angular-buch.com/secure"}getAll(){return this.http.get(`${this.api}/books`).pipe((0,t.X)(3),(0,h.U)(r=>r.map(a=>s.fromRaw(a))),(0,p.K)(this.errorHandler))}getSingle(r){return this.http.get(`${this.api}/book/${r}`).pipe((0,t.X)(3),(0,h.U)(a=>s.fromRaw(a)),(0,p.K)(this.errorHandler))}create(r){return this.http.post(`${this.api}/book`,r,{responseType:"text"}).pipe((0,p.K)(this.errorHandler))}update(r){return this.http.put(`${this.api}/book/${r.isbn}`,r,{responseType:"text"}).pipe((0,p.K)(this.errorHandler))}remove(r){return this.http.delete(`${this.api}/book/${r}`,{responseType:"text"}).pipe((0,p.K)(this.errorHandler))}getAllSearch(r){return this.http.get(`${this.api}/books/search/${r}`).pipe((0,t.X)(3),(0,h.U)(a=>a.map(A=>s.fromRaw(A))),(0,p.K)(this.errorHandler))}check(r){return this.http.get(`${this.api}/book/${r}/check`).pipe((0,p.K)(this.errorHandler))}errorHandler(r){return console.error("Fehler aufgetreten!"),(0,l._)(r)}}return u.\u0275fac=function(r){return new(r||u)(m.LFG(f.eN))},u.\u0275prov=m.Yz7({token:u,factory:u.\u0275fac,providedIn:"root"}),u})()}}]);