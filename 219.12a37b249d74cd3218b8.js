(self.webpackChunkbook_monkey=self.webpackChunkbook_monkey||[]).push([[219],{9219:(e,t,o)=>{"use strict";o.r(t),o.d(t,{AppModule:()=>T});var n=o(1116),r=o(8619),i=o(2693),s=o(1441);let c=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=r.Xpm({type:e,selectors:[["bm-root"]],decls:8,vars:0,consts:function(){let e,t,o;return e="Home",t="Books",o="Administration",[[1,"ui","menu"],["routerLink","home","routerLinkActive","active",1,"item"],e,["routerLink","books","routerLinkActive","active",1,"item"],t,["routerLink","admin","routerLinkActive","active",1,"item"],o]},template:function(e,t){1&e&&(r.TgZ(0,"div",0),r.TgZ(1,"a",1),r.SDv(2,2),r.qZA(),r.TgZ(3,"a",3),r.SDv(4,4),r.qZA(),r.TgZ(5,"a",5),r.SDv(6,6),r.qZA(),r.qZA(),r._UZ(7,"router-outlet"))},directives:[s.yS,s.Od,s.lC],styles:[""]}),e})();var a=o(3559),u=o(3835),p=o(4094),h=o(8720),l=o(6599),d=o(4689),m=o(8912);const k=function(e){return["..","books",e]};function f(e,t){if(1&e&&(r.TgZ(0,"a",8),r._uU(1),r.TgZ(2,"p",9),r._uU(3),r.qZA(),r.qZA()),2&e){const e=t.$implicit;r.Q6J("routerLink",r.VKq(3,k,e.isbn)),r.xp6(1),r.hij(" ",e.title," "),r.xp6(2),r.Oqu(e.subtitle)}}function g(e,t){if(1&e&&(r.TgZ(0,"div",6),r.YNc(1,f,4,5,"a",7),r.qZA()),2&e){const e=r.oxw();r.xp6(1),r.Q6J("ngForOf",e.foundBooks)}}let b=(()=>{class e{constructor(e){this.bs=e,this.keyUp$=new a.xQ,this.isLoading=!1,this.foundBooks=[]}ngOnInit(){this.keyUp$.pipe((0,u.h)(e=>e.length>=3),(0,p.b)(500),(0,h.x)(),(0,l.b)(()=>this.isLoading=!0),(0,d.w)(e=>this.bs.getAllSearch(e)),(0,l.b)(()=>this.isLoading=!1)).subscribe(e=>this.foundBooks=e)}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(m.T))},e.\u0275cmp=r.Xpm({type:e,selectors:[["bm-search"]],decls:6,vars:3,consts:[[1,"ui","search"],[1,"ui","icon","input"],["type","text",1,"prompt",3,"keyup"],["input",""],[1,"search","icon"],["class","results transition visible",4,"ngIf"],[1,"results","transition","visible"],["class","result",3,"routerLink",4,"ngFor","ngForOf"],[1,"result",3,"routerLink"],[1,"description"]],template:function(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"div",0),r.TgZ(1,"div",1),r.TgZ(2,"input",2,3),r.NdJ("keyup",function(){r.CHM(e);const o=r.MAs(3);return t.keyUp$.next(o.value)}),r.qZA(),r._UZ(4,"i",4),r.qZA(),r.YNc(5,g,2,1,"div",5),r.qZA()}2&e&&(r.ekj("loading",t.isLoading),r.xp6(5),r.Q6J("ngIf",t.foundBooks.length))},directives:[n.O5,n.sg,s.yS],styles:[""]}),e})();const v=[{path:"",component:c,children:[{path:"",redirectTo:"home",pathMatch:"full"},{path:"home",component:(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=r.Xpm({type:e,selectors:[["bm-home"]],decls:11,vars:0,consts:function(){let e,t,o,n;return e="Home",t="This is the BookMonkey.",o="See book list",n="Search",[e,t,["routerLink","../books",1,"ui","red","button"],o,[1,"right","arrow","icon"],n]},template:function(e,t){1&e&&(r.TgZ(0,"h1"),r.SDv(1,0),r.qZA(),r.TgZ(2,"p"),r.SDv(3,1),r.qZA(),r.TgZ(4,"a",2),r.ynx(5),r.SDv(6,3),r.BQk(),r._UZ(7,"i",4),r.qZA(),r.TgZ(8,"h2"),r.SDv(9,5),r.qZA(),r._UZ(10,"bm-search"))},directives:[s.yS,b],styles:[""]}),e})()},{path:"books",loadChildren:()=>o.e(43).then(o.bind(o,4043)).then(e=>e.BooksModule)},{path:"admin",loadChildren:()=>Promise.all([o.e(17),o.e(44)]).then(o.bind(o,1044)).then(e=>e.AdminModule),canActivate:[(()=>{class e{constructor(){this.accessGranted=!1}canActivate(){if(!this.accessGranted){const e="With great power comes great responsibility. Would you like to enter the admin area?";this.accessGranted=window.confirm(e)}return this.accessGranted}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()]}]}];let A=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({imports:[[s.Bz.forChild(v)],s.Bz]}),e})(),Z=(()=>{class e{constructor(){this.authToken="1234567890"}intercept(e,t){const o=e.clone({setHeaders:{Authorization:`Bearer ${this.authToken}`}});return t.handle(o)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e})(),T=(()=>{class e{constructor(e){console.log("DEBUG \u2013 Current Locale:",e)}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(r.soG))},e.\u0275mod=r.oAB({type:e,bootstrap:[c]}),e.\u0275inj=r.cJS({providers:[{provide:i.TP,useClass:Z,multi:!0}],imports:[[n.ez,i.JF,A]]}),e})()},8912:(e,t,o)=>{"use strict";o.d(t,{T:()=>p});var n=o(1225),r=o(6998),i=o(9996),s=o(7727);class c{static fromRaw(e){return Object.assign(Object.assign({},e),{published:new Date(e.published)})}}var a=o(8619),u=o(2693);let p=(()=>{class e{constructor(e){this.http=e,this.api="https://api4.angular-buch.com/secure"}getAll(){return this.http.get(`${this.api}/books`).pipe((0,r.X)(3),(0,i.U)(e=>e.map(e=>c.fromRaw(e))),(0,s.K)(this.errorHandler))}getSingle(e){return this.http.get(`${this.api}/book/${e}`).pipe((0,r.X)(3),(0,i.U)(e=>c.fromRaw(e)),(0,s.K)(this.errorHandler))}create(e){return this.http.post(`${this.api}/book`,e,{responseType:"text"}).pipe((0,s.K)(this.errorHandler))}update(e){return this.http.put(`${this.api}/book/${e.isbn}`,e,{responseType:"text"}).pipe((0,s.K)(this.errorHandler))}remove(e){return this.http.delete(`${this.api}/book/${e}`,{responseType:"text"}).pipe((0,s.K)(this.errorHandler))}getAllSearch(e){return this.http.get(`${this.api}/books/search/${e}`).pipe((0,r.X)(3),(0,i.U)(e=>e.map(e=>c.fromRaw(e))),(0,s.K)(this.errorHandler))}check(e){return this.http.get(`${this.api}/book/${e}/check`).pipe((0,s.K)(this.errorHandler))}errorHandler(e){return console.error("Fehler aufgetreten!"),(0,n._)(e)}}return e.\u0275fac=function(t){return new(t||e)(a.LFG(u.eN))},e.\u0275prov=a.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()}}]);