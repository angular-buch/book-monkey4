"use strict";(self.webpackChunkbook_monkey=self.webpackChunkbook_monkey||[]).push([[376],{8376:(T,g,n)=>{n.r(g),n.d(g,{AppModule:()=>B});var l=n(6019),t=n(865),d=n(4522),a=n(6234),s=n(828);let m=(()=>{class e{}return e.\u0275fac=function(o){return new(o||e)},e.\u0275cmp=t.Xpm({type:e,selectors:[["bm-root"]],decls:8,vars:0,consts:[[1,"ui","menu"],["routerLink","home","routerLinkActive","active",1,"item"],["routerLink","books","routerLinkActive","active",1,"item"],["routerLink","admin","routerLinkActive","active",1,"item"]],template:function(o,c){1&o&&(t.TgZ(0,"div",0),t.TgZ(1,"a",1),t._uU(2,"Home"),t.qZA(),t.TgZ(3,"a",2),t._uU(4,"B\xfccher"),t.qZA(),t.TgZ(5,"a",3),t._uU(6,"Administration"),t.qZA(),t.qZA(),t._UZ(7,"router-outlet"))},directives:[s.yS,s.Od,s.lC],styles:[""]}),e})();var f=n(8095),v=n(8735),p=n(3181),h=n(5389),r=n(5722),u=n(9204),A=n(5159);const k=function(e){return["..","books",e]};function Z(e,i){if(1&e&&(t.TgZ(0,"a",8),t._uU(1),t.TgZ(2,"p",9),t._uU(3),t.qZA(),t.qZA()),2&e){const o=i.$implicit;t.Q6J("routerLink",t.VKq(3,k,o.isbn)),t.xp6(1),t.hij(" ",o.title," "),t.xp6(2),t.Oqu(o.subtitle)}}function C(e,i){if(1&e&&(t.TgZ(0,"div",6),t.YNc(1,Z,4,5,"a",7),t.qZA()),2&e){const o=t.oxw();t.xp6(1),t.Q6J("ngForOf",o.foundBooks)}}let M=(()=>{class e{constructor(o){this.bs=o,this.keyUp$=new f.xQ,this.isLoading=!1,this.foundBooks=[]}ngOnInit(){this.keyUp$.pipe((0,v.h)(o=>o.length>=3),(0,p.b)(500),(0,h.x)(),(0,r.b)(()=>this.isLoading=!0),(0,u.w)(o=>this.bs.getAllSearch(o)),(0,r.b)(()=>this.isLoading=!1)).subscribe(o=>this.foundBooks=o)}}return e.\u0275fac=function(o){return new(o||e)(t.Y36(A.T))},e.\u0275cmp=t.Xpm({type:e,selectors:[["bm-search"]],decls:6,vars:3,consts:[[1,"ui","search"],[1,"ui","icon","input"],["type","text",1,"prompt",3,"keyup"],["input",""],[1,"search","icon"],["class","results transition visible",4,"ngIf"],[1,"results","transition","visible"],["class","result",3,"routerLink",4,"ngFor","ngForOf"],[1,"result",3,"routerLink"],[1,"description"]],template:function(o,c){if(1&o){const y=t.EpF();t.TgZ(0,"div",0),t.TgZ(1,"div",1),t.TgZ(2,"input",2,3),t.NdJ("keyup",function(){t.CHM(y);const F=t.MAs(3);return c.keyUp$.next(F.value)}),t.qZA(),t._UZ(4,"i",4),t.qZA(),t.YNc(5,C,2,1,"div",5),t.qZA()}2&o&&(t.ekj("loading",c.isLoading),t.xp6(5),t.Q6J("ngIf",c.foundBooks.length))},directives:[l.O5,l.sg,s.yS],styles:[""]}),e})();const U=[{path:"",component:m,children:[{path:"",redirectTo:"home",pathMatch:"full"},{path:"home",component:(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(o){return new(o||e)},e.\u0275cmp=t.Xpm({type:e,selectors:[["bm-home"]],decls:10,vars:0,consts:[["routerLink","../books",1,"ui","red","button"],[1,"right","arrow","icon"]],template:function(o,c){1&o&&(t.TgZ(0,"h1"),t._uU(1,"Home"),t.qZA(),t.TgZ(2,"p"),t._uU(3,"Das ist der BookMonkey."),t.qZA(),t.TgZ(4,"a",0),t._uU(5," Buchliste ansehen "),t._UZ(6,"i",1),t.qZA(),t.TgZ(7,"h2"),t._uU(8,"Suche"),t.qZA(),t._UZ(9,"bm-search"))},directives:[s.yS,M],styles:[""]}),e})()},{path:"books",loadChildren:()=>n.e(940).then(n.bind(n,2940)).then(e=>e.BooksModule)},{path:"admin",loadChildren:()=>Promise.all([n.e(956),n.e(74)]).then(n.bind(n,6074)).then(e=>e.AdminModule),canActivate:[(()=>{class e{constructor(){this.accessGranted=!1}canActivate(){return this.accessGranted||(this.accessGranted=window.confirm("Mit gro\xdfer Macht kommt gro\xdfe Verantwortung. M\xf6chten Sie den Admin-Bereich betreten?")),this.accessGranted}}return e.\u0275fac=function(o){return new(o||e)},e.\u0275prov=t.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()]}]}];let R=(()=>{class e{}return e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[[s.Bz.forChild(U)],s.Bz]}),e})(),b=(()=>{class e{constructor(){this.authToken="1234567890"}intercept(o,c){const y=o.clone({setHeaders:{Authorization:`Bearer ${this.authToken}`}});return c.handle(y)}}return e.\u0275fac=function(o){return new(o||e)},e.\u0275prov=t.Yz7({token:e,factory:e.\u0275fac}),e})(),B=(()=>{class e{constructor(){(0,l.qS)(a.Z)}}return e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=t.oAB({type:e,bootstrap:[m]}),e.\u0275inj=t.cJS({providers:[{provide:d.TP,useClass:b,multi:!0},{provide:t.soG,useValue:"de"}],imports:[[l.ez,d.JF,R]]}),e})()},5159:(T,g,n)=>{n.d(g,{T:()=>v});var l=n(540),t=n(921),d=n(8053),a=n(2047);class s{static fromRaw(h){return Object.assign(Object.assign({},h),{published:new Date(h.published)})}}var m=n(865),f=n(4522);let v=(()=>{class p{constructor(r){this.http=r,this.api="https://api4.angular-buch.com/secure"}getAll(){return this.http.get(`${this.api}/books`).pipe((0,t.X)(3),(0,d.U)(r=>r.map(u=>s.fromRaw(u))),(0,a.K)(this.errorHandler))}getSingle(r){return this.http.get(`${this.api}/book/${r}`).pipe((0,t.X)(3),(0,d.U)(u=>s.fromRaw(u)),(0,a.K)(this.errorHandler))}create(r){return this.http.post(`${this.api}/book`,r,{responseType:"text"}).pipe((0,a.K)(this.errorHandler))}update(r){return this.http.put(`${this.api}/book/${r.isbn}`,r,{responseType:"text"}).pipe((0,a.K)(this.errorHandler))}remove(r){return this.http.delete(`${this.api}/book/${r}`,{responseType:"text"}).pipe((0,a.K)(this.errorHandler))}getAllSearch(r){return this.http.get(`${this.api}/books/search/${r}`).pipe((0,t.X)(3),(0,d.U)(u=>u.map(A=>s.fromRaw(A))),(0,a.K)(this.errorHandler))}check(r){return this.http.get(`${this.api}/book/${r}/check`).pipe((0,a.K)(this.errorHandler))}errorHandler(r){return console.error("Fehler aufgetreten!"),(0,l._)(r)}}return p.\u0275fac=function(r){return new(r||p)(m.LFG(f.eN))},p.\u0275prov=m.Yz7({token:p,factory:p.\u0275fac,providedIn:"root"}),p})()}}]);