"use strict";(self.webpackChunkbook_monkey=self.webpackChunkbook_monkey||[]).push([[758],{5758:(C,_,n)=>{n.r(_),n.d(_,{AppModule:()=>P});var m=n(6019),e=n(865),d=n(4522),s=n(828);let h=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275cmp=e.Xpm({type:o,selectors:[["bm-root"]],decls:8,vars:0,consts:function(){let r,t,p;return r="Home",t="Books",p="Administration",[[1,"ui","menu"],["routerLink","home","routerLinkActive","active",1,"item"],r,["routerLink","books","routerLinkActive","active",1,"item"],t,["routerLink","admin","routerLinkActive","active",1,"item"],p]},template:function(t,p){1&t&&(e.TgZ(0,"div",0),e.TgZ(1,"a",1),e.SDv(2,2),e.qZA(),e.TgZ(3,"a",3),e.SDv(4,4),e.qZA(),e.TgZ(5,"a",5),e.SDv(6,6),e.qZA(),e.qZA(),e._UZ(7,"router-outlet"))},directives:[s.yS,s.Od,s.lC],styles:[""]}),o})();var g=n(8095),T=n(8735),M=n(3181),a=n(5389),l=n(5722),i=n(9204),u=n(727);const O=function(o){return["..","books",o]};function N(o,r){if(1&o&&(e.TgZ(0,"a",8),e._uU(1),e.TgZ(2,"p",9),e._uU(3),e.qZA(),e.qZA()),2&o){const t=r.$implicit;e.Q6J("routerLink",e.VKq(3,O,t.isbn)),e.xp6(1),e.hij(" ",t.title," "),e.xp6(2),e.Oqu(t.subtitle)}}function E(o,r){if(1&o&&(e.TgZ(0,"div",6),e.YNc(1,N,4,5,"a",7),e.qZA()),2&o){const t=e.oxw();e.xp6(1),e.Q6J("ngForOf",t.foundBooks)}}let f=(()=>{class o{constructor(t){this.bs=t,this.keyUp$=new g.xQ,this.isLoading=!1,this.foundBooks=[]}ngOnInit(){this.keyUp$.pipe((0,T.h)(t=>t.length>=3),(0,M.b)(500),(0,a.x)(),(0,l.b)(()=>this.isLoading=!0),(0,i.w)(t=>this.bs.getAllSearch(t)),(0,l.b)(()=>this.isLoading=!1)).subscribe(t=>this.foundBooks=t)}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(u.T))},o.\u0275cmp=e.Xpm({type:o,selectors:[["bm-search"]],decls:6,vars:3,consts:[[1,"ui","search"],[1,"ui","icon","input"],["type","text",1,"prompt",3,"keyup"],["input",""],[1,"search","icon"],["class","results transition visible",4,"ngIf"],[1,"results","transition","visible"],["class","result",3,"routerLink",4,"ngFor","ngForOf"],[1,"result",3,"routerLink"],[1,"description"]],template:function(t,p){if(1&t){const c=e.EpF();e.TgZ(0,"div",0),e.TgZ(1,"div",1),e.TgZ(2,"input",2,3),e.NdJ("keyup",function(){e.CHM(c);const k=e.MAs(3);return p.keyUp$.next(k.value)}),e.qZA(),e._UZ(4,"i",4),e.qZA(),e.YNc(5,E,2,1,"div",5),e.qZA()}2&t&&(e.ekj("loading",p.isLoading),e.xp6(5),e.Q6J("ngIf",p.foundBooks.length))},directives:[m.O5,m.sg,s.yS],styles:[""]}),o})();const I=[{path:"",component:h,children:[{path:"",redirectTo:"home",pathMatch:"full"},{path:"home",component:(()=>{class o{constructor(){}ngOnInit(){}}return o.\u0275fac=function(t){return new(t||o)},o.\u0275cmp=e.Xpm({type:o,selectors:[["bm-home"]],decls:11,vars:0,consts:function(){let r,t,p,c;return r="Home",t="This is the BookMonkey.",p="See book list",c="Search",[r,t,["routerLink","../books",1,"ui","red","button"],p,[1,"right","arrow","icon"],c]},template:function(t,p){1&t&&(e.TgZ(0,"h1"),e.SDv(1,0),e.qZA(),e.TgZ(2,"p"),e.SDv(3,1),e.qZA(),e.TgZ(4,"a",2),e.ynx(5),e.SDv(6,3),e.BQk(),e._UZ(7,"i",4),e.qZA(),e.TgZ(8,"h2"),e.SDv(9,5),e.qZA(),e._UZ(10,"bm-search"))},directives:[s.yS,f],styles:[""]}),o})()},{path:"books",loadChildren:()=>n.e(191).then(n.bind(n,9191)).then(o=>o.BooksModule)},{path:"admin",loadChildren:()=>Promise.all([n.e(956),n.e(568)]).then(n.bind(n,7568)).then(o=>o.AdminModule),canActivate:[(()=>{class o{constructor(){this.accessGranted=!1}canActivate(){if(!this.accessGranted){const t="With great power comes great responsibility. Would you like to enter the admin area?";this.accessGranted=window.confirm(t)}return this.accessGranted}}return o.\u0275fac=function(t){return new(t||o)},o.\u0275prov=e.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})()]}]}];let v=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[[s.Bz.forChild(I)],s.Bz]}),o})(),R=(()=>{class o{constructor(){this.authToken="1234567890"}intercept(t,p){const c=t.clone({setHeaders:{Authorization:`Bearer ${this.authToken}`}});return p.handle(c)}}return o.\u0275fac=function(t){return new(t||o)},o.\u0275prov=e.Yz7({token:o,factory:o.\u0275fac}),o})(),P=(()=>{class o{constructor(t){console.log("DEBUG \u2013 Current Locale:",t)}}return o.\u0275fac=function(t){return new(t||o)(e.LFG(e.soG))},o.\u0275mod=e.oAB({type:o,bootstrap:[h]}),o.\u0275inj=e.cJS({providers:[{provide:d.TP,useClass:R,multi:!0}],imports:[[m.ez,d.JF,v]]}),o})()},727:(C,_,n)=>{n.d(_,{T:()=>M});var m=n(540),e=n(921),d=n(8053),s=n(2047);class h{static fromRaw(l){return Object.assign(Object.assign({},l),{published:new Date(l.published)})}}var g=n(865),T=n(4522);let M=(()=>{class a{constructor(i){this.http=i,this.api="https://api4.angular-buch.com/secure"}getAll(){return this.http.get(`${this.api}/books`).pipe((0,e.X)(3),(0,d.U)(i=>i.map(u=>h.fromRaw(u))),(0,s.K)(this.errorHandler))}getSingle(i){return this.http.get(`${this.api}/book/${i}`).pipe((0,e.X)(3),(0,d.U)(u=>h.fromRaw(u)),(0,s.K)(this.errorHandler))}create(i){return this.http.post(`${this.api}/book`,i,{responseType:"text"}).pipe((0,s.K)(this.errorHandler))}update(i){return this.http.put(`${this.api}/book/${i.isbn}`,i,{responseType:"text"}).pipe((0,s.K)(this.errorHandler))}remove(i){return this.http.delete(`${this.api}/book/${i}`,{responseType:"text"}).pipe((0,s.K)(this.errorHandler))}getAllSearch(i){return this.http.get(`${this.api}/books/search/${i}`).pipe((0,e.X)(3),(0,d.U)(u=>u.map(O=>h.fromRaw(O))),(0,s.K)(this.errorHandler))}check(i){return this.http.get(`${this.api}/book/${i}/check`).pipe((0,s.K)(this.errorHandler))}errorHandler(i){return console.error("Fehler aufgetreten!"),(0,m._)(i)}}return a.\u0275fac=function(i){return new(i||a)(g.LFG(T.eN))},a.\u0275prov=g.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})()}}]);