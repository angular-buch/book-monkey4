(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{"9O1O":function(e,t,o){"use strict";o.d(t,"a",(function(){return u}));var n=o("z6cu"),r=o("un/a"),i=o("lJxs"),c=o("JIr8");class s{static fromRaw(e){return Object.assign(Object.assign({},e),{published:new Date(e.published)})}}var a=o("fXoL"),b=o("tk/3");let u=(()=>{class e{constructor(e){this.http=e,this.api="https://api4.angular-buch.com/secure"}getAll(){return this.http.get(this.api+"/books").pipe(Object(r.a)(3),Object(i.a)(e=>e.map(e=>s.fromRaw(e))),Object(c.a)(this.errorHandler))}getSingle(e){return this.http.get(`${this.api}/book/${e}`).pipe(Object(r.a)(3),Object(i.a)(e=>s.fromRaw(e)),Object(c.a)(this.errorHandler))}create(e){return this.http.post(this.api+"/book",e,{responseType:"text"}).pipe(Object(c.a)(this.errorHandler))}update(e){return this.http.put(`${this.api}/book/${e.isbn}`,e,{responseType:"text"}).pipe(Object(c.a)(this.errorHandler))}remove(e){return this.http.delete(`${this.api}/book/${e}`,{responseType:"text"}).pipe(Object(c.a)(this.errorHandler))}getAllSearch(e){return this.http.get(`${this.api}/books/search/${e}`).pipe(Object(r.a)(3),Object(i.a)(e=>e.map(e=>s.fromRaw(e))),Object(c.a)(this.errorHandler))}check(e){return this.http.get(`${this.api}/book/${e}/check`).pipe(Object(c.a)(this.errorHandler))}errorHandler(e){return console.error("Fehler aufgetreten!"),Object(n.a)(e)}}return e.\u0275fac=function(t){return new(t||e)(a.Sb(b.b))},e.\u0275prov=a.Db({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},q3wx:function(e,t,o){"use strict";o.r(t),o.d(t,"AppModule",(function(){return H}));var n,r,i,c=o("ofXK"),s=o("fXoL"),a=o("tk/3"),b=o("tyNb");n="Home",r="Books",i="Administration";let u=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=s.Bb({type:e,selectors:[["bm-root"]],decls:8,vars:0,consts:[[1,"ui","menu"],["routerLink","home","routerLinkActive","active",1,"item"],["routerLink","books","routerLinkActive","active",1,"item"],["routerLink","admin","routerLinkActive","active",1,"item"]],template:function(e,t){1&e&&(s.Mb(0,"div",0),s.Mb(1,"a",1),s.Qb(2,n),s.Lb(),s.Mb(3,"a",2),s.Qb(4,r),s.Lb(),s.Mb(5,"a",3),s.Qb(6,i),s.Lb(),s.Lb(),s.Ib(7,"router-outlet"))},directives:[b.g,b.f,b.i],styles:[""]}),e})();var p=o("XNiG"),h=o("pLZG"),l=o("Kj3r"),d=o("/uUt"),f=o("vkgz"),m=o("eIep"),k=o("9O1O");const g=function(e){return["..","books",e]};function v(e,t){if(1&e&&(s.Mb(0,"a",7),s.mc(1),s.Mb(2,"p",8),s.mc(3),s.Lb(),s.Lb()),2&e){const e=t.$implicit;s.bc("routerLink",s.dc(3,g,e.isbn)),s.xb(1),s.oc(" ",e.title," "),s.xb(2),s.nc(e.subtitle)}}function L(e,t){if(1&e&&(s.Mb(0,"div",5),s.kc(1,v,4,5,"a",6),s.Lb()),2&e){const e=s.Xb();s.xb(1),s.bc("ngForOf",e.foundBooks)}}let O=(()=>{class e{constructor(e){this.bs=e,this.keyUp$=new p.a,this.isLoading=!1,this.foundBooks=[]}ngOnInit(){this.keyUp$.pipe(Object(h.a)(e=>e.length>=3),Object(l.a)(500),Object(d.a)(),Object(f.a)(()=>this.isLoading=!0),Object(m.a)(e=>this.bs.getAllSearch(e)),Object(f.a)(()=>this.isLoading=!1)).subscribe(e=>this.foundBooks=e)}}return e.\u0275fac=function(t){return new(t||e)(s.Hb(k.a))},e.\u0275cmp=s.Bb({type:e,selectors:[["bm-search"]],decls:5,vars:3,consts:[[1,"ui","search"],[1,"ui","icon","input"],["type","text",1,"prompt",3,"keyup"],[1,"search","icon"],["class","results transition visible",4,"ngIf"],[1,"results","transition","visible"],["class","result",3,"routerLink",4,"ngFor","ngForOf"],[1,"result",3,"routerLink"],[1,"description"]],template:function(e,t){1&e&&(s.Mb(0,"div",0),s.Mb(1,"div",1),s.Mb(2,"input",2),s.Vb("keyup",(function(e){return t.keyUp$.next(e.target.value)})),s.Lb(),s.Ib(3,"i",3),s.Lb(),s.kc(4,L,2,1,"div",4),s.Lb()),2&e&&(s.zb("loading",t.isLoading),s.xb(4),s.bc("ngIf",t.foundBooks.length))},directives:[c.k,c.j,b.g],styles:[""]}),e})();var j,w,y,M;j="Home",w="This is the BookMonkey.",y="See book list",M="Search";const $=[{path:"",component:u,children:[{path:"",redirectTo:"home",pathMatch:"full"},{path:"home",component:(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=s.Bb({type:e,selectors:[["bm-home"]],decls:11,vars:0,consts:[["routerLink","../books",1,"ui","red","button"],[1,"right","arrow","icon"]],template:function(e,t){1&e&&(s.Mb(0,"h1"),s.Qb(1,j),s.Lb(),s.Mb(2,"p"),s.Qb(3,w),s.Lb(),s.Mb(4,"a",0),s.Kb(5),s.Qb(6,y),s.Jb(),s.Ib(7,"i",1),s.Lb(),s.Mb(8,"h2"),s.Qb(9,M),s.Lb(),s.Ib(10,"bm-search"))},directives:[b.g,O],styles:[""]}),e})()},{path:"books",loadChildren:()=>o.e(30).then(o.bind(null,"xf3E")).then(e=>e.BooksModule)},{path:"admin",loadChildren:()=>Promise.all([o.e(1),o.e(29)]).then(o.bind(null,"Exa6")).then(e=>e.AdminModule),canActivate:[(()=>{class e{constructor(){this.accessGranted=!1}canActivate(){if(!this.accessGranted){const e="With great power comes great responsibility. Would you like to enter the admin area?";this.accessGranted=window.confirm(e)}return this.accessGranted}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=s.Db({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()]}]}];let x=(()=>{class e{}return e.\u0275mod=s.Fb({type:e}),e.\u0275inj=s.Eb({factory:function(t){return new(t||e)},imports:[[b.h.forChild($)],b.h]}),e})(),A=(()=>{class e{constructor(){this.authToken="1234567890"}intercept(e,t){const o=e.clone({setHeaders:{Authorization:"Bearer "+this.authToken}});return t.handle(o)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=s.Db({token:e,factory:e.\u0275fac}),e})(),H=(()=>{class e{constructor(e){console.log("DEBUG \u2013 Current Locale:",e)}}return e.\u0275mod=s.Fb({type:e,bootstrap:[u]}),e.\u0275inj=s.Eb({factory:function(t){return new(t||e)(s.Sb(s.u))},providers:[{provide:a.a,useClass:A,multi:!0}],imports:[[c.c,a.c,x]]}),e})()}}]);