function _templateObject15(){var e=_taggedTemplateLiteral([":@@BookFormComponent:book form\u241f04004aff9a85e778b1333c3f35d9660302da01ea\u241f6122154040870620371:Buch bearbeiten"],[":@@BookFormComponent\\:book form\u241f04004aff9a85e778b1333c3f35d9660302da01ea\u241f6122154040870620371:Buch bearbeiten"]);return _templateObject15=function(){return e},e}function _templateObject14(){var e=_taggedTemplateLiteral([":@@BookFormComponent:book form\u241fd77dc58301c7cf16b7a0f8e1c44aa1866992adc1\u241f3273032484262008590:Buch hinzuf\xfcgen"],[":@@BookFormComponent\\:book form\u241fd77dc58301c7cf16b7a0f8e1c44aa1866992adc1\u241f3273032484262008590:Buch hinzuf\xfcgen"]);return _templateObject14=function(){return e},e}function _templateObject13(){var e=_taggedTemplateLiteral([":@@BookFormComponent:book thumbnail placeholder\u241fb7f6cd735e8b660a6ec3d3dfb09de14ab32a10c8\u241f3516494453193947151:Titel"],[":@@BookFormComponent\\:book thumbnail placeholder\u241fb7f6cd735e8b660a6ec3d3dfb09de14ab32a10c8\u241f3516494453193947151:Titel"]);return _templateObject13=function(){return e},e}function _templateObject12(){var e=_taggedTemplateLiteral([":@@BookFormComponent:book url placeholder\u241f801b98c6f02fe3b32f6afa3ee854c99ed83474e6\u241f2375260419993138758:URL"],[":@@BookFormComponent\\:book url placeholder\u241f801b98c6f02fe3b32f6afa3ee854c99ed83474e6\u241f2375260419993138758:URL"]);return _templateObject12=function(){return e},e}function _templateObject11(){var e=_taggedTemplateLiteral([":@@BookFormComponent:author placeholder\u241fe3409e9c1c468b07de71d123a086ccc6752962f1\u241f5102041847876891222:Autor"],[":@@BookFormComponent\\:author placeholder\u241fe3409e9c1c468b07de71d123a086ccc6752962f1\u241f5102041847876891222:Autor"]);return _templateObject11=function(){return e},e}function _templateObject10(){var e=_taggedTemplateLiteral([":@@BookFormComponent:book form save\u241f7d23b0858bcdd8e1d9d7934e1234cb038617c4db\u241f8292624393390788959: Speichern "],[":@@BookFormComponent\\:book form save\u241f7d23b0858bcdd8e1d9d7934e1234cb038617c4db\u241f8292624393390788959: Speichern "]);return _templateObject10=function(){return e},e}function _templateObject9(){var e=_taggedTemplateLiteral([":@@BookFormComponent:add thumbnail\u241f06f4d3d585cb9d4a0ffeb7cbbab457294206ce84\u241f1905806150319254016: + Bild "],[":@@BookFormComponent\\:add thumbnail\u241f06f4d3d585cb9d4a0ffeb7cbbab457294206ce84\u241f1905806150319254016: + Bild "]);return _templateObject9=function(){return e},e}function _templateObject8(){var e=_taggedTemplateLiteral([":@@BookFormComponent:book thumbnails\u241fe7abc2e971ba9ac12751153ba7973e5cf0fea20b\u241f9045290048674217310:Bilder"],[":@@BookFormComponent\\:book thumbnails\u241fe7abc2e971ba9ac12751153ba7973e5cf0fea20b\u241f9045290048674217310:Bilder"]);return _templateObject8=function(){return e},e}function _templateObject7(){var e=_taggedTemplateLiteral([":@@BookFormComponent:book description\u241ff09ad66c1ebf16217ba1a1072be7a98de2d95eac\u241f3282235563480269560:Beschreibung"],[":@@BookFormComponent\\:book description\u241ff09ad66c1ebf16217ba1a1072be7a98de2d95eac\u241f3282235563480269560:Beschreibung"]);return _templateObject7=function(){return e},e}function _templateObject6(){var e=_taggedTemplateLiteral([":@@BookFormComponent:add author\u241ff4a0cc44be8e3c0d0acf9fe85fb29d5886aaee77\u241f2147622957633097048: + Autor "],[":@@BookFormComponent\\:add author\u241ff4a0cc44be8e3c0d0acf9fe85fb29d5886aaee77\u241f2147622957633097048: + Autor "]);return _templateObject6=function(){return e},e}function _templateObject5(){var e=_taggedTemplateLiteral([":@@BookFormComponent:book authors\u241fd5ce279a1c4682414a0e0a3d283580449f79d410\u241f3654953117544016353:Autoren"],[":@@BookFormComponent\\:book authors\u241fd5ce279a1c4682414a0e0a3d283580449f79d410\u241f3654953117544016353:Autoren"]);return _templateObject5=function(){return e},e}function _templateObject4(){var e=_taggedTemplateLiteral([":@@BookFormComponent:book published date\u241f5a2a5a853e64c7f94b6af03aecc486450f1ae068\u241f3845025460046577000:Erscheinungsdatum"],[":@@BookFormComponent\\:book published date\u241f5a2a5a853e64c7f94b6af03aecc486450f1ae068\u241f3845025460046577000:Erscheinungsdatum"]);return _templateObject4=function(){return e},e}function _templateObject3(){var e=_taggedTemplateLiteral([":@@BookFormComponent:book isbn\u241fd579249e5fe296d2eb3d02d79cc19ebbca88ec1e\u241f8860567190320038063:ISBN"],[":@@BookFormComponent\\:book isbn\u241fd579249e5fe296d2eb3d02d79cc19ebbca88ec1e\u241f8860567190320038063:ISBN"]);return _templateObject3=function(){return e},e}function _templateObject2(){var e=_taggedTemplateLiteral([":@@BookFormComponent:book subtitle\u241f503b951dc9cc0a3ba44b73393cf8fb0fd03ca7b0\u241f1763940721409433016:Untertitel"],[":@@BookFormComponent\\:book subtitle\u241f503b951dc9cc0a3ba44b73393cf8fb0fd03ca7b0\u241f1763940721409433016:Untertitel"]);return _templateObject2=function(){return e},e}function _templateObject(){var e=_taggedTemplateLiteral([":@@BookFormComponent:book title\u241fb4c33d19f19cfa346f800ce0817ab11cf3c6e8dc\u241f3612065257905492324:Buchtitel"],[":@@BookFormComponent\\:book title\u241fb4c33d19f19cfa346f800ce0817ab11cf3c6e8dc\u241f3612065257905492324:Buchtitel"]);return _templateObject=function(){return e},e}function _taggedTemplateLiteral(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _createClass(e,t,o){return t&&_defineProperties(e.prototype,t),o&&_defineProperties(e,o),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[30],{Exa6:function(e,t,o){"use strict";o.r(t),o.d(t,"AdminModule",(function(){return X}));var n,r=o("ofXK"),a=o("3Pt+"),i=o("6XRw"),b=o("tyNb"),c=o("fXoL"),l=o("9O1O"),u=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"isbnFormat",value:function(e){if(!e.value)return null;var t=e.value.replace(/-/g,"");return/(^\d{10}$)|(^\d{13}$)/.test(t)?null:{isbnFormat:{valid:!1}}}},{key:"atLeastOneAuthor",value:function(e){return e.controls.some((function(e){return e.value}))?null:{atLeastOneAuthor:{valid:!1}}}}]),e}(),s=o("LRne"),m=o("lJxs"),f=o("JIr8"),d=((n=function(){function e(t){_classCallCheck(this,e),this.bs=t}return _createClass(e,[{key:"validate",value:function(e){return this.bs.check(e.value).pipe(Object(m.a)((function(e){return!1===e?null:{isbnExists:{valid:!1}}})),Object(f.a)((function(){return Object(s.a)(null)})))}}]),e}()).\u0275fac=function(e){return new(e||n)(c.Sb(l.a))},n.\u0275prov=c.Db({token:n,factory:n.\u0275fac,providedIn:"root"}),n);function p(e,t){if(1&e&&(c.Mb(0,"div",1),c.mc(1),c.Lb()),2&e){var o=t.$implicit;c.xb(1),c.oc(" ",o,"\n")}}var h,k,g,v,_,C,O,F,B,j,y,L=((h=function(){function e(){_classCallCheck(this,e),this.allMessages={title:{required:"Ein Buchtitel muss angegeben werden."},isbn:{required:"Es muss eine ISBN angegeben werden.",isbnFormat:"Die ISBN muss aus 10 oder 13 Zeichen bestehen.",isbnExists:"Die ISBN existiert bereits."},published:{required:"Es muss ein Erscheinungsdatum angegeben werden."},authors:{atLeastOneAuthor:"Es muss ein Autor angegeben werden."}}}return _createClass(e,[{key:"ngOnInit",value:function(){}},{key:"errorsForControl",value:function(){var e=this.allMessages[this.controlName];return this.control&&this.control.errors&&e&&this.control.dirty?Object.keys(this.control.errors).map((function(t){return e[t]})):null}}]),e}()).\u0275fac=function(e){return new(e||h)},h.\u0275cmp=c.Bb({type:h,selectors:[["bm-form-messages"]],inputs:{control:"control",controlName:"controlName"},decls:1,vars:1,consts:[["class","ui negative message",4,"ngFor","ngForOf"],[1,"ui","negative","message"]],template:function(e,t){1&e&&c.kc(0,p,2,1,"div",0),2&e&&c.bc("ngForOf",t.errorsForControl())},directives:[r.j],styles:[""]}),h);k="Book Title",g="Subtitle",v="ISBN Number",_="Published Date",C="Authors",O="+ Author",F="Description",B="Thumbnails",j="+ Thumbnail",y="Save";var M=["placeholder","Author"];function N(e,t){if(1&e&&(c.Mb(0,"div",16),c.Mb(1,"input",17),c.Rb(2,M),c.Lb(),c.Lb()),2&e){var o=t.index;c.xb(1),c.bc("formControlName",o)}}var w=["placeholder","http://example_Url"],T=["placeholder","Book Title"];function A(e,t){1&e&&(c.Mb(0,"div",18),c.Mb(1,"div",19),c.Mb(2,"input",20),c.Rb(3,w),c.Lb(),c.Lb(),c.Mb(4,"div",21),c.Mb(5,"input",22),c.Rb(6,T),c.Lb(),c.Lb(),c.Lb()),2&e&&c.bc("formGroupName",t.index)}var I,x,z=((I=function(){function e(t,o){_classCallCheck(this,e),this.fb=t,this.bookExistsValidator=o,this.editing=!1,this.submitBook=new c.n}return _createClass(e,[{key:"ngOnInit",value:function(){this.initForm()}},{key:"ngOnChanges",value:function(){this.initForm(),this.setFormValues(this.book)}},{key:"setFormValues",value:function(e){this.bookForm.patchValue(e),this.bookForm.setControl("authors",this.buildAuthorsArray(e.authors)),this.bookForm.setControl("thumbnails",this.buildThumbnailsArray(e.thumbnails))}},{key:"initForm",value:function(){this.bookForm||(this.bookForm=this.fb.group({title:["",a.q.required],subtitle:[""],isbn:[{value:"",disabled:this.editing},[a.q.required,u.isbnFormat],this.editing?null:[this.bookExistsValidator]],description:[""],authors:this.buildAuthorsArray([""]),thumbnails:this.buildThumbnailsArray([{title:"",url:""}]),published:[]}))}},{key:"buildAuthorsArray",value:function(e){return this.fb.array(e,u.atLeastOneAuthor)}},{key:"buildThumbnailsArray",value:function(e){var t=this;return this.fb.array(e.map((function(e){return t.fb.group(e)})))}},{key:"addAuthorControl",value:function(){this.authors.push(this.fb.control(""))}},{key:"addThumbnailControl",value:function(){this.thumbnails.push(this.fb.group({url:"",title:""}))}},{key:"submitForm",value:function(){var e=this.bookForm.value,t=e.authors.filter((function(e){return e})),o=e.thumbnails.filter((function(e){return e.url})),n=this.editing?this.book.isbn:e.isbn,r=Object.assign(Object.assign({},e),{isbn:n,authors:t,thumbnails:o});this.submitBook.emit(r),this.bookForm.reset()}},{key:"authors",get:function(){return this.bookForm.get("authors")}},{key:"thumbnails",get:function(){return this.bookForm.get("thumbnails")}}]),e}()).\u0275fac=function(e){return new(e||I)(c.Hb(a.c),c.Hb(d))},I.\u0275cmp=c.Bb({type:I,selectors:[["bm-book-form"]],inputs:{book:"book",editing:"editing"},outputs:{submitBook:"submitBook"},features:[c.vb],decls:34,vars:8,consts:[[1,"ui","form",3,"formGroup","ngSubmit"],["formControlName","title"],["controlName","title",3,"control"],["formControlName","subtitle"],["formControlName","isbn"],["controlName","isbn",3,"control"],["type","date","useValueAsDate","","formControlName","published"],["controlName","published",3,"control"],["type","button",1,"ui","mini","button",3,"click"],["formArrayName","authors",1,"fields"],["class","sixteen wide field",4,"ngFor","ngForOf"],["controlName","authors",3,"control"],["formControlName","description"],["formArrayName","thumbnails"],["class","fields",3,"formGroupName",4,"ngFor","ngForOf"],["type","submit",1,"ui","button",3,"disabled"],[1,"sixteen","wide","field"],[3,"formControlName",6,"placeholder"],[1,"fields",3,"formGroupName"],[1,"nine","wide","field"],["formControlName","url",6,"placeholder"],[1,"seven","wide","field"],["formControlName","title",6,"placeholder"]],template:function(e,t){1&e&&(c.Mb(0,"form",0),c.Vb("ngSubmit",(function(){return t.submitForm()})),c.Mb(1,"label"),c.Qb(2,k),c.Lb(),c.Ib(3,"input",1),c.Ib(4,"bm-form-messages",2),c.Mb(5,"label"),c.Qb(6,g),c.Lb(),c.Ib(7,"input",3),c.Mb(8,"label"),c.Qb(9,v),c.Lb(),c.Ib(10,"input",4),c.Ib(11,"bm-form-messages",5),c.Mb(12,"label"),c.Qb(13,_),c.Lb(),c.Ib(14,"input",6),c.Ib(15,"bm-form-messages",7),c.Mb(16,"label"),c.Qb(17,C),c.Lb(),c.Mb(18,"button",8),c.Vb("click",(function(){return t.addAuthorControl()})),c.Qb(19,O),c.Lb(),c.Mb(20,"div",9),c.kc(21,N,3,1,"div",10),c.Lb(),c.Ib(22,"bm-form-messages",11),c.Mb(23,"label"),c.Qb(24,F),c.Lb(),c.Ib(25,"textarea",12),c.Mb(26,"label"),c.Qb(27,B),c.Lb(),c.Mb(28,"button",8),c.Vb("click",(function(){return t.addThumbnailControl()})),c.Qb(29,j),c.Lb(),c.Mb(30,"div",13),c.kc(31,A,7,1,"div",14),c.Lb(),c.Mb(32,"button",15),c.Qb(33,y),c.Lb(),c.Lb()),2&e&&(c.bc("formGroup",t.bookForm),c.xb(4),c.bc("control",t.bookForm.get("title")),c.xb(7),c.bc("control",t.bookForm.get("isbn")),c.xb(4),c.bc("control",t.bookForm.get("published")),c.xb(6),c.bc("ngForOf",t.authors.controls),c.xb(1),c.bc("control",t.bookForm.get("authors")),c.xb(9),c.bc("ngForOf",t.thumbnails.controls),c.xb(1),c.bc("disabled",t.bookForm.invalid))},directives:[a.r,a.l,a.e,a.a,a.k,a.d,L,i.a,a.b,r.j,a.f],styles:[""]}),I);x="Book Form";var $,E,Q=(($=function(){function e(t,o,n){_classCallCheck(this,e),this.bs=t,this.route=o,this.router=n}return _createClass(e,[{key:"ngOnInit",value:function(){}},{key:"createBook",value:function(e){var t=this;this.bs.create(e).subscribe((function(){t.router.navigate(["../..","books"],{relativeTo:t.route})}))}}]),e}()).\u0275fac=function(e){return new(e||$)(c.Hb(l.a),c.Hb(b.a),c.Hb(b.d))},$.\u0275cmp=c.Bb({type:$,selectors:[["bm-create-book"]],decls:3,vars:0,consts:[[3,"submitBook"]],template:function(e,t){1&e&&(c.Mb(0,"h1"),c.Qb(1,x),c.Lb(),c.Mb(2,"bm-book-form",0),c.Vb("submitBook",(function(e){return t.createBook(e)})),c.Lb())},directives:[z],styles:[""]}),$),S=o("eIep");function V(e,t){if(1&e){var o=c.Nb();c.Mb(0,"bm-book-form",1),c.Vb("submitBook",(function(e){return c.gc(o),c.Xb().updateBook(e)})),c.Lb()}if(2&e){var n=c.Xb();c.bc("book",n.book)("editing",!0)}}E="Book Form";var H,q,R,P=[{path:"",redirectTo:"create",pathMatch:"full"},{path:"create",component:Q},{path:"edit/:isbn",component:(H=function(){function e(t,o,n){_classCallCheck(this,e),this.bs=t,this.route=o,this.router=n}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.route.paramMap.pipe(Object(m.a)((function(e){return e.get("isbn")})),Object(S.a)((function(t){return e.bs.getSingle(t)}))).subscribe((function(t){return e.book=t}))}},{key:"updateBook",value:function(e){var t=this;this.bs.update(e).subscribe((function(){t.router.navigate(["../../..","books",e.isbn],{relativeTo:t.route})}))}}]),e}(),H.\u0275fac=function(e){return new(e||H)(c.Hb(l.a),c.Hb(b.a),c.Hb(b.d))},H.\u0275cmp=c.Bb({type:H,selectors:[["bm-edit-book"]],decls:3,vars:1,consts:[[3,"book","editing","submitBook",4,"ngIf"],[3,"book","editing","submitBook"]],template:function(e,t){1&e&&(c.Mb(0,"h1"),c.Qb(1,E),c.Lb(),c.kc(2,V,1,2,"bm-book-form",0)),2&e&&(c.xb(2),c.bc("ngIf",t.book))},directives:[r.k,z],styles:[""]}),H)}],G=((R=function e(){_classCallCheck(this,e)}).\u0275mod=c.Fb({type:R}),R.\u0275inj=c.Eb({factory:function(e){return new(e||R)},providers:[],imports:[[b.h.forChild(P)],b.h]}),R),X=((q=function e(){_classCallCheck(this,e)}).\u0275mod=c.Fb({type:q}),q.\u0275inj=c.Eb({factory:function(e){return new(e||q)},imports:[[r.c,G,a.o,i.b]]}),q)}}]);