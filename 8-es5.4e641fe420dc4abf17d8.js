function _defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{hul9:function(e,t,n){"use strict";n.r(t),n.d(t,"AppModule",(function(){return I}));var r,i=n("ofXK"),c=n("fXoL"),o=n("tk/3"),a=n("VLs4"),s=n.n(a),u=n("tyNb"),l=((r=function e(){_classCallCheck(this,e)}).\u0275fac=function(e){return new(e||r)},r.\u0275cmp=c.Bb({type:r,selectors:[["bm-root"]],decls:8,vars:0,consts:[[1,"ui","menu"],["routerLink","home","routerLinkActive","active",1,"item"],["routerLink","books","routerLinkActive","active",1,"item"],["routerLink","admin","routerLinkActive","active",1,"item"]],template:function(e,t){1&e&&(c.Mb(0,"div",0),c.Mb(1,"a",1),c.mc(2,"Home"),c.Lb(),c.Mb(3,"a",2),c.mc(4,"B\xfccher"),c.Lb(),c.Mb(5,"a",3),c.mc(6,"Administration"),c.Lb(),c.Lb(),c.Ib(7,"router-outlet"))},directives:[u.g,u.f,u.i],styles:[""]}),r),b=n("XNiG"),h=n("pLZG"),f=n("Kj3r"),p=n("/uUt"),d=n("vkgz"),k=n("eIep"),m=n("iA8X"),v=function(e){return["..","books",e]};function y(e,t){if(1&e&&(c.Mb(0,"a",7),c.mc(1),c.Mb(2,"p",8),c.mc(3),c.Lb(),c.Lb()),2&e){var n=t.$implicit;c.bc("routerLink",c.dc(3,v,n.isbn)),c.xb(1),c.oc(" ",n.title," "),c.xb(2),c.nc(n.subtitle)}}function g(e,t){if(1&e&&(c.Mb(0,"div",5),c.kc(1,y,4,5,"a",6),c.Lb()),2&e){var n=c.Xb();c.xb(1),c.bc("ngForOf",n.foundBooks)}}var L,C,j,O,w,M,_=((L=function(){function e(t){_classCallCheck(this,e),this.bs=t,this.keyUp$=new b.a,this.isLoading=!1,this.foundBooks=[]}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.keyUp$.pipe(Object(h.a)((function(e){return e.length>=3})),Object(f.a)(500),Object(p.a)(),Object(d.a)((function(){return e.isLoading=!0})),Object(k.a)((function(t){return e.bs.getAllSearch(t)})),Object(d.a)((function(){return e.isLoading=!1}))).subscribe((function(t){return e.foundBooks=t}))}}]),e}()).\u0275fac=function(e){return new(e||L)(c.Hb(m.a))},L.\u0275cmp=c.Bb({type:L,selectors:[["bm-search"]],decls:5,vars:3,consts:[[1,"ui","search"],[1,"ui","icon","input"],["type","text",1,"prompt",3,"keyup"],[1,"search","icon"],["class","results transition visible",4,"ngIf"],[1,"results","transition","visible"],["class","result",3,"routerLink",4,"ngFor","ngForOf"],[1,"result",3,"routerLink"],[1,"description"]],template:function(e,t){1&e&&(c.Mb(0,"div",0),c.Mb(1,"div",1),c.Mb(2,"input",2),c.Vb("keyup",(function(e){return t.keyUp$.next(e.target.value)})),c.Lb(),c.Ib(3,"i",3),c.Lb(),c.kc(4,g,2,1,"div",4),c.Lb()),2&e&&(c.zb("loading",t.isLoading),c.xb(4),c.bc("ngIf",t.foundBooks.length))},directives:[i.k,i.j,u.g],styles:[""]}),L),A=[{path:"",component:l,children:[{path:"",redirectTo:"home",pathMatch:"full"},{path:"home",component:(j=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"ngOnInit",value:function(){}}]),e}(),j.\u0275fac=function(e){return new(e||j)},j.\u0275cmp=c.Bb({type:j,selectors:[["bm-home"]],decls:10,vars:0,consts:[["routerLink","../books",1,"ui","red","button"],[1,"right","arrow","icon"]],template:function(e,t){1&e&&(c.Mb(0,"h1"),c.mc(1,"Home"),c.Lb(),c.Mb(2,"p"),c.mc(3,"Das ist der BookMonkey."),c.Lb(),c.Mb(4,"a",0),c.mc(5," Buchliste ansehen "),c.Ib(6,"i",1),c.Lb(),c.Mb(7,"h2"),c.mc(8,"Suche"),c.Lb(),c.Ib(9,"bm-search"))},directives:[u.g,_],styles:[""]}),j)},{path:"books",loadChildren:function(){return n.e(25).then(n.bind(null,"Exd+")).then((function(e){return e.BooksModule}))}},{path:"admin",loadChildren:function(){return Promise.all([n.e(1),n.e(24)]).then(n.bind(null,"bWLZ")).then((function(e){return e.AdminModule}))},canActivate:[(C=function(){function e(){_classCallCheck(this,e),this.accessGranted=!1}return _createClass(e,[{key:"canActivate",value:function(){return this.accessGranted||(this.accessGranted=window.confirm("Mit gro\xdfer Macht kommt gro\xdfe Verantwortung. M\xf6chten Sie den Admin-Bereich betreten?")),this.accessGranted}}]),e}(),C.\u0275fac=function(e){return new(e||C)},C.\u0275prov=c.Db({token:C,factory:C.\u0275fac,providedIn:"root"}),C)]}]}],B=((M=function e(){_classCallCheck(this,e)}).\u0275mod=c.Fb({type:M}),M.\u0275inj=c.Eb({factory:function(e){return new(e||M)},imports:[[u.h.forChild(A)],u.h]}),M),H=((w=function(){function e(){_classCallCheck(this,e),this.authToken="1234567890"}return _createClass(e,[{key:"intercept",value:function(e,t){var n=e.clone({setHeaders:{Authorization:"Bearer "+this.authToken}});return t.handle(n)}}]),e}()).\u0275fac=function(e){return new(e||w)},w.\u0275prov=c.Db({token:w,factory:w.\u0275fac}),w),I=((O=function e(){_classCallCheck(this,e),Object(i.o)(s.a)}).\u0275mod=c.Fb({type:O,bootstrap:[l]}),O.\u0275inj=c.Eb({factory:function(e){return new(e||O)},providers:[{provide:o.a,useClass:H,multi:!0},{provide:c.u,useValue:"de"}],imports:[[i.c,o.c,B]]}),O)},iA8X:function(e,t,n){"use strict";n.d(t,"a",(function(){return b}));var r,i=n("z6cu"),c=n("un/a"),o=n("lJxs"),a=n("JIr8"),s=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"fromRaw",value:function(e){return Object.assign(Object.assign({},e),{published:new Date(e.published)})}}]),e}(),u=n("fXoL"),l=n("tk/3"),b=((r=function(){function e(t){_classCallCheck(this,e),this.http=t,this.api="https://api4.angular-buch.com/secure"}return _createClass(e,[{key:"getAll",value:function(){return this.http.get(this.api+"/books").pipe(Object(c.a)(3),Object(o.a)((function(e){return e.map((function(e){return s.fromRaw(e)}))})),Object(a.a)(this.errorHandler))}},{key:"getSingle",value:function(e){return this.http.get("".concat(this.api,"/book/").concat(e)).pipe(Object(c.a)(3),Object(o.a)((function(e){return s.fromRaw(e)})),Object(a.a)(this.errorHandler))}},{key:"create",value:function(e){return this.http.post(this.api+"/book",e,{responseType:"text"}).pipe(Object(a.a)(this.errorHandler))}},{key:"update",value:function(e){return this.http.put("".concat(this.api,"/book/").concat(e.isbn),e,{responseType:"text"}).pipe(Object(a.a)(this.errorHandler))}},{key:"remove",value:function(e){return this.http.delete("".concat(this.api,"/book/").concat(e),{responseType:"text"}).pipe(Object(a.a)(this.errorHandler))}},{key:"getAllSearch",value:function(e){return this.http.get("".concat(this.api,"/books/search/").concat(e)).pipe(Object(c.a)(3),Object(o.a)((function(e){return e.map((function(e){return s.fromRaw(e)}))})),Object(a.a)(this.errorHandler))}},{key:"check",value:function(e){return this.http.get("".concat(this.api,"/book/").concat(e,"/check")).pipe(Object(a.a)(this.errorHandler))}},{key:"errorHandler",value:function(e){return console.error("Fehler aufgetreten!"),Object(i.a)(e)}}]),e}()).\u0275fac=function(e){return new(e||r)(u.Sb(l.b))},r.\u0275prov=u.Db({token:r,factory:r.\u0275fac,providedIn:"root"}),r)}}]);