(self.webpackChunkbook_monkey=self.webpackChunkbook_monkey||[]).push([[261],{1261:(n,o,t)=>{"use strict";t.r(o),t.d(o,{BooksModule:()=>J});var i=t(1116),e=t(1441),s=t(8619),c=t(8385);let r=(()=>{class n{constructor(){this.isZoomed=!1}onMouseEnter(){this.isZoomed=!0}onMouseLeave(){this.isZoomed=!1}}return n.\u0275fac=function(o){return new(o||n)},n.\u0275dir=s.lG2({type:n,selectors:[["","bmZoom",""]],hostVars:2,hostBindings:function(n,o){1&n&&s.NdJ("mouseenter",function(){return o.onMouseEnter()})("mouseleave",function(){return o.onMouseLeave()}),2&n&&s.ekj("small",o.isZoomed)}}),n})(),u=(()=>{class n{transform(n){return n?`${n.substr(0,3)}-${n.substr(3)}`:""}}return n.\u0275fac=function(o){return new(o||n)},n.\u0275pipe=s.Yjl({name:"isbn",type:n,pure:!0}),n})();function l(n,o){if(1&n&&s._UZ(0,"img",7),2&n){const n=s.oxw(2);s.Q6J("src",n.book.thumbnails[0].url,s.LSH)}}function a(n,o){if(1&n&&(s.TgZ(0,"div",8),s._uU(1),s.qZA()),2&n){const n=s.oxw(2);s.xp6(1),s.Oqu(n.book.subtitle)}}function g(n,o){1&n&&(s.TgZ(0,"span"),s._uU(1,", "),s.qZA())}function b(n,o){if(1&n&&(s.TgZ(0,"span"),s._uU(1),s.YNc(2,g,2,0,"span",0),s.qZA()),2&n){const n=o.$implicit,t=o.last;s.xp6(1),s.hij(" ",n,""),s.xp6(1),s.Q6J("ngIf",!t)}}function f(n,o){if(1&n&&(s.ynx(0),s.YNc(1,l,1,1,"img",1),s.TgZ(2,"div",2),s.TgZ(3,"div",3),s._uU(4),s.qZA(),s.YNc(5,a,2,1,"div",4),s.TgZ(6,"div",5),s.YNc(7,b,3,2,"span",6),s._UZ(8,"br"),s._uU(9),s.ALo(10,"isbn"),s.qZA(),s.qZA(),s.BQk()),2&n){const n=s.oxw();s.xp6(1),s.Q6J("ngIf",n.book.thumbnails&&n.book.thumbnails[0]&&n.book.thumbnails[0].url),s.xp6(3),s.Oqu(n.book.title),s.xp6(1),s.Q6J("ngIf",n.book.subtitle),s.xp6(2),s.Q6J("ngForOf",n.book.authors),s.xp6(2),s.hij(" ISBN ",s.lcZ(10,5,n.book.isbn)," ")}}let p=(()=>{class n{ngOnInit(){}}return n.\u0275fac=function(o){return new(o||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["bm-book-list-item"]],inputs:{book:"book"},decls:1,vars:1,consts:[[4,"ngIf"],["class","ui tiny image","bmZoom","",3,"src",4,"ngIf"],[1,"content"],[1,"header"],["class","description",4,"ngIf"],[1,"metadata"],[4,"ngFor","ngForOf"],["bmZoom","",1,"ui","tiny","image",3,"src"],[1,"description"]],template:function(n,o){1&n&&s.YNc(0,f,11,7,"ng-container",0),2&n&&s.Q6J("ngIf",o.book)},directives:[i.O5,i.sg,r],pipes:[u],styles:[""]}),n})();function m(n,o){if(1&n&&s._UZ(0,"bm-book-list-item",5),2&n){const n=o.$implicit;s.Q6J("book",n)("routerLink",n.isbn)}}function d(n,o){1&n&&(s.TgZ(0,"p"),s._uU(1,"Es wurden noch keine B\xfccher eingetragen."),s.qZA())}function Z(n,o){if(1&n&&(s.ynx(0),s.YNc(1,m,1,2,"bm-book-list-item",3),s.YNc(2,d,2,0,"p",4),s.BQk()),2&n){const n=o.ngIf;s.xp6(1),s.Q6J("ngForOf",n),s.xp6(1),s.Q6J("ngIf",!n.length)}}function h(n,o){1&n&&(s.TgZ(0,"div",6),s.TgZ(1,"div",7),s._uU(2,"Daten werden geladen..."),s.qZA(),s.qZA())}let k=(()=>{class n{constructor(n){this.bs=n,this.books$=this.bs.getAll()}ngOnInit(){}}return n.\u0275fac=function(o){return new(o||n)(s.Y36(c.T))},n.\u0275cmp=s.Xpm({type:n,selectors:[["bm-book-list"]],decls:5,vars:4,consts:[[1,"ui","middle","aligned","selection","divided","list"],[4,"ngIf","ngIfElse"],["loading",""],["class","item",3,"book","routerLink",4,"ngFor","ngForOf"],[4,"ngIf"],[1,"item",3,"book","routerLink"],[1,"ui","active","dimmer"],[1,"ui","large","text","loader"]],template:function(n,o){if(1&n&&(s.TgZ(0,"div",0),s.YNc(1,Z,3,2,"ng-container",1),s.ALo(2,"async"),s.YNc(3,h,3,0,"ng-template",null,2,s.W1O),s.qZA()),2&n){const n=s.MAs(4);s.xp6(1),s.Q6J("ngIf",s.lcZ(2,2,o.books$))("ngIfElse",n)}},directives:[i.O5,i.sg,p,e.rH],pipes:[i.Ov],styles:[""]}),n})(),v=(()=>{class n{constructor(n,o){this.templateRef=n,this.viewContainerRef=o,this.bmDelay=100}ngOnInit(){setTimeout(()=>{this.viewContainerRef.createEmbeddedView(this.templateRef)},this.bmDelay)}}return n.\u0275fac=function(o){return new(o||n)(s.Y36(s.Rgc),s.Y36(s.s_b))},n.\u0275dir=s.lG2({type:n,selectors:[["","bmDelay",""]],inputs:{bmDelay:"bmDelay"}}),n})();function x(n,o){if(1&n&&(s.TgZ(0,"h3"),s._uU(1),s.qZA()),2&n){const n=s.oxw(2);s.xp6(1),s.Oqu(n.book.subtitle)}}function A(n,o){if(1&n&&(s.ynx(0),s._uU(1),s._UZ(2,"br"),s.BQk()),2&n){const n=o.$implicit;s.xp6(1),s.hij(" ",n,"")}}function y(n,o){1&n&&s._UZ(0,"i",15)}function _(n,o){if(1&n&&(s.ynx(0),s.YNc(1,y,1,0,"i",14),s.BQk()),2&n){const n=o.index;s.xp6(1),s.Q6J("bmDelay",500+200*n)}}function q(n,o){if(1&n&&(s.TgZ(0,"div",5),s.TgZ(1,"h4"),s._uU(2,"Rating"),s.qZA(),s.YNc(3,_,2,1,"ng-container",6),s.qZA()),2&n){const n=s.oxw(2);s.xp6(3),s.Q6J("ngForOf",n.getRating(n.book.rating))}}function w(n,o){1&n&&s._UZ(0,"img",16),2&n&&s.Q6J("src",o.$implicit.url,s.LSH)}const T=function(n){return["../../admin/edit",n]};function U(n,o){if(1&n){const n=s.EpF();s.TgZ(0,"div"),s.TgZ(1,"h1"),s._uU(2),s.qZA(),s.YNc(3,x,2,1,"h3",2),s._UZ(4,"div",3),s.TgZ(5,"div",4),s.TgZ(6,"div",5),s.TgZ(7,"h4"),s._uU(8,"Autoren"),s.qZA(),s.YNc(9,A,3,1,"ng-container",6),s.qZA(),s.TgZ(10,"div",5),s.TgZ(11,"h4"),s._uU(12,"ISBN"),s.qZA(),s._uU(13),s.ALo(14,"isbn"),s.qZA(),s.TgZ(15,"div",5),s.TgZ(16,"h4"),s._uU(17,"Erschienen"),s.qZA(),s._uU(18),s.ALo(19,"date"),s.qZA(),s.YNc(20,q,4,1,"div",7),s.qZA(),s.TgZ(21,"h4"),s._uU(22,"Beschreibung"),s.qZA(),s.TgZ(23,"p"),s._uU(24),s.qZA(),s.TgZ(25,"div",8),s.YNc(26,w,1,1,"img",9),s.qZA(),s.TgZ(27,"button",10),s.NdJ("click",function(){return s.CHM(n),s.oxw().removeBook()}),s._UZ(28,"i",11),s._uU(29," Buch l\xf6schen "),s.qZA(),s.TgZ(30,"a",12),s._UZ(31,"i",13),s._uU(32," Buch bearbeiten "),s.qZA(),s.qZA()}if(2&n){const n=s.oxw();s.xp6(2),s.Oqu(n.book.title),s.xp6(1),s.Q6J("ngIf",n.book.subtitle),s.xp6(6),s.Q6J("ngForOf",n.book.authors),s.xp6(4),s.hij(" ",s.lcZ(14,9,n.book.isbn)," "),s.xp6(5),s.hij(" ",s.xi3(19,11,n.book.published,"longDate")," "),s.xp6(2),s.Q6J("ngIf",n.book.rating),s.xp6(4),s.Oqu(n.book.description),s.xp6(2),s.Q6J("ngForOf",n.book.thumbnails),s.xp6(4),s.Q6J("routerLink",s.VKq(14,T,n.book.isbn))}}function I(n,o){1&n&&s._UZ(0,"div",17)}const O=[{path:"",component:k},{path:":isbn",component:(()=>{class n{constructor(n,o,t){this.bs=n,this.router=o,this.route=t}ngOnInit(){this.bs.getSingle(this.route.snapshot.paramMap.get("isbn")||"").subscribe(n=>this.book=n)}getRating(n){return new Array(n)}removeBook(){this.book&&confirm("Buch wirklich l\xf6schen?")&&this.bs.remove(this.book.isbn).subscribe(n=>this.router.navigate(["../"],{relativeTo:this.route}))}}return n.\u0275fac=function(o){return new(o||n)(s.Y36(c.T),s.Y36(e.F0),s.Y36(e.gz))},n.\u0275cmp=s.Xpm({type:n,selectors:[["bm-book-details"]],decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["loading",""],[4,"ngIf"],[1,"ui","divider"],[1,"ui","grid"],[1,"four","wide","column"],[4,"ngFor","ngForOf"],["class","four wide column",4,"ngIf"],[1,"ui","small","images"],[3,"src",4,"ngFor","ngForOf"],[1,"ui","tiny","red","labeled","icon","button",3,"click"],[1,"remove","icon"],[1,"ui","tiny","yellow","labeled","icon","button",3,"routerLink"],[1,"write","icon"],["class","yellow star icon",4,"bmDelay"],[1,"yellow","star","icon"],[3,"src"],[1,"ui","active","centered","inline","loader"]],template:function(n,o){if(1&n&&(s.YNc(0,U,33,16,"div",0),s.YNc(1,I,1,0,"ng-template",null,1,s.W1O)),2&n){const n=s.MAs(2);s.Q6J("ngIf",o.book)("ngIfElse",n)}},directives:[i.O5,i.sg,e.yS,v],pipes:[u,i.uU],styles:["p[_ngcontent-%COMP%]{white-space:pre-wrap}"]}),n})()}];let Y=(()=>{class n{}return n.\u0275fac=function(o){return new(o||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[],imports:[[e.Bz.forChild(O)],e.Bz]}),n})(),J=(()=>{class n{}return n.\u0275fac=function(o){return new(o||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[i.ez,Y]]}),n})()}}]);